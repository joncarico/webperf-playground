!function(e){var t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function t(){return e.default}:function t(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=16)}([,,,,,,,,,,,,,,,,function(e,t,i){i(17),i(18),i(19),i(20),i(21),i(22),i(23),i(24),i(25),i(26),e.exports=i(27)},function(e,t){function i(){}i.prototype.send=function(e,t,i,n=null,a=null){i=JSON.stringify(i);var s=new XMLHttpRequest,r=`https://adsninja.ca/strpixel.png?time=${Date.now()}&type="${t}"&clientData="${i}"&permalink="${window.location.pathname}"&placementId="${e}"`;n&&(r+=`&message=${n}`),a&&(r+=`&data=${a=JSON.stringify(a)}`),s.open("GET",r,!0),s.send()},window.AdsNinjaEventRecorder=i},function(e,t){window.AdsNinjaAdsPixelRefresher=function e(t,i,n,a,s=null){this.__originalAdElementId=t,this.__refreshContainerElementId=i,this.__maxRefresh=s,this.__lastTriggeredPixel=null,this.__refreshCount=0,this.__waypoints=[],this.__lastDocumentHeight=a,this.__isDisabled=!1,this.__pixelDistance=n,this.setupWaypoint=function(e){var t=this;this.__waypoints.push(new Waypoint({element:document.getElementById("adsninja-body-anchor"),handler:function(i){if(t.__lastTriggeredPixel!=e&&(null===t.__maxRefresh||!(t.__refreshCount>=t.__maxRefresh))){var n=window.adsNinjaHeaderBiddingManager.refreshingAdZones[t.__originalAdElementId];if(n){var a=!1,s=n.getCurrentAdElementId();s&&(a=window.adsNinjaHeaderBiddingManager.refreshAdElement(s,"waypoint")),a&&(t.__refreshCount+=1,t.__lastTriggeredPixel=e)}}},offset:-1*e}))},this.disable=function(){for(x in this.__isDisabled=!0,this.__waypoints)this.__waypoints[x].disable()},this.update=function(e){if(!this.__isDisabled){for(var t=0;t<=e;t+=this.__pixelDistance)void 0===this.__waypoints[t]&&this.setupWaypoint(t);this.__lastDocumentHeight=e}};for(var r=0;r<=this.__lastDocumentHeight;r+=this.__pixelDistance)this.setupWaypoint(r)}},function(e,t){function i(e){this.TIME_TO_LIVE_BUFFER=10,this.INDEX_VALNET_USED="valnetUsed",this.INDEX_VALNET_EXPIRED="valnetExpired",this.INDEX_VALNET_INVALIDATED="valnetInvalidated",this.INDEX_VALNET_SENT_CURRENTLY="valnetSentCurrently",this.INDEX_VALNET_SENT_NUMBER_OF_TIMES="valnetSentNumberOfTimes",this.INDEX_VALNET_FROM_AUCTION="valnetFromAuction",this.BIDDING_LIBRARY_AMAZON="amazon",this.BIDDING_LIBRARY_PREBID="prebid",this.BIDDING_LIBRARIES=[this.BIDDING_LIBRARY_AMAZON,this.BIDDING_LIBRARY_PREBID,],this.__id=e,this.__auctionType="initial",this.__isAdServerRequestSent=!1,this.__areBidsRequested=!1,this.__areAmazonBidsBack=!1,this.__arePrebidBidsBack=!1,this.__amazonTimeout=2e3,this.__prebidTimeout=2e3,this.__isPageLoad=null,this.__isEuTraffic=null,this.__gamAdSlots=[],this.__ads={},this.__prebidAdUnitBidderConfigs=[],this.__amazonAdSlots=[],this.__prebidAdUnits=[],this.__shouldDelaySendingAdServerRequest=!1,this.__bidPoolPrebid={},this.__bidPoolAmazon={},this.__completionCallbacks={},this.__logger=null}i.prototype.getId=function(){return this.__id},i.prototype.isAdServerRequestSent=function(){return this.__isAdServerRequestSent},i.prototype.setIsAdServerRequestSent=function(e){this.__isAdServerRequestSent=e},i.prototype.areBidsRequested=function(){return this.__areBidsRequested},i.prototype.setAreBidsRequested=function(e){this.__areBidsRequested=e},i.prototype.areAmazonBidsBack=function(){return this.__areAmazonBidsBack},i.prototype.setAreAmazonBidsBack=function(e){this.__areAmazonBidsBack=e},i.prototype.arePrebidBidsBack=function(){return this.__arePrebidBidsBack},i.prototype.setArePrebidBidsBack=function(e){this.__arePrebidBidsBack=e},i.prototype.getAmazonTimeout=function(){return this.__amazonTimeout},i.prototype.setAmazonTimeout=function(e){this.__amazonTimeout=e},i.prototype.getPrebidTimeout=function(){return this.__prebidTimeout},i.prototype.setPrebidTimeout=function(e){this.__prebidTimeout=e},i.prototype.isPageLoad=function(){return this.__isPageLoad},i.prototype.setIsPageLoad=function(e){this.__isPageLoad=e},i.prototype.isEuTraffic=function(){return this.__isEuTraffic},i.prototype.setIsEuTraffic=function(e){this.__isEuTraffic=e},i.prototype.getGamAdSlots=function(){return this.__gamAdSlots},i.prototype.setGamAdSlots=function(e){if(!Array.isArray(e))throw Error('Provided value of parameter "gamAdSlots" is not an array.');for(var t in this.__gamAdSlots=e,this.__gamAdSlots)this.__gamAdSlots[t]&&"object"==typeof this.__gamAdSlots[t]&&this.__gamAdSlots[t].hasOwnProperty("adElementId")&&(this.__ads[this.__gamAdSlots[t].adElementId]=this.__gamAdSlots[t])},i.prototype.getAd=function(e){var t=this.__ads[e];if(!t)throw Error(`Unable to find ad from adElementId: ${e}.`,{ads:this.__ads});return t},i.prototype.getDivIdsOnlyBanner=function(){var e=[];for(var t in this.__gamAdSlots){var i=this.__gamAdSlots[t];!this.__gamAdSlots[t].hasSupportForVideoInstream()&&e.push(i.adElementId)}return e},i.prototype.getDivIdsOnlyVideoInstream=function(){var e=[];for(var t in this.__gamAdSlots){var i=this.__gamAdSlots[t];this.__gamAdSlots[t].hasSupportForVideoInstream()&&e.push(i.adElementId)}return e},i.prototype.getPrebidAdUnitBidderConfigs=function(){return this.__prebidAdUnitBidderConfigs},i.prototype.setPrebidAdUnitBidderConfigs=function(e){this.__prebidAdUnitBidderConfigs=e},i.prototype.getAmazonAdSlots=function(){return this.__amazonAdSlots},i.prototype.addAmazonAdSlot=function(e){this.__amazonAdSlots.push(e)},i.prototype.countAmazonAdSlots=function(){return this.__amazonAdSlots.length},i.prototype.isEmptyAmazonAdSlots=function(){return 0===this.__amazonAdSlots.length},i.prototype.getPrebidAdUnits=function(){return this.__prebidAdUnits},i.prototype.getPrebidAdUnit=function(e){for(var t in this.__prebidAdUnits)if(e===this.__prebidAdUnits[t].code)return this.__prebidAdUnits[t];throw Error(`Unable to find Prebid ad unit for adElementId: ${e}.`)},i.prototype.addPrebidAdUnit=function(e){this.__prebidAdUnits.push(e)},i.prototype.countPrebidAdUnits=function(){return this.__prebidAdUnits.length},i.prototype.isEmptyPrebidAdUnits=function(){return 0===this.__prebidAdUnits.length},i.prototype.getPrebidAdUnitCodes=function(){var e=[];for(x in this.__prebidAdUnits)e.push(this.__prebidAdUnits[x].code);return e},i.prototype.getPrebidAdUnitCodesNonInstreamVideo=function(){var e=[];for(x in this.__prebidAdUnits)(!("object"==typeof this.__prebidAdUnits[x].mediaTypes&&this.__prebidAdUnits[x].mediaTypes.hasOwnProperty("video"))||"instream"!==this.__prebidAdUnits[x].mediaTypes.video.context)&&e.push(this.__prebidAdUnits[x].code);return e},i.prototype.getInstreamVideoPrebidAdUnit=function(){for(x in this.__prebidAdUnits)if("object"==typeof this.__prebidAdUnits[x].mediaTypes&&this.__prebidAdUnits[x].mediaTypes.hasOwnProperty("video")&&"instream"===this.__prebidAdUnits[x].mediaTypes.video.context)return this.__prebidAdUnits[x];return null},i.prototype.isAmazonAvailable=function(){return void 0!==window.apstag&&!this.isEmptyAmazonAdSlots()},i.prototype.isPrebidAvailable=function(){return void 0!==window.pbjs&&void 0!==window.pbjs.que&&!this.isEmptyPrebidAdUnits()},i.prototype.getShouldDelaySendingAdServerRequest=function(){return this.__shouldDelaySendingAdServerRequest},i.prototype.setShouldDelaySendingAdServerRequest=function(e){this.__shouldDelaySendingAdServerRequest=e},i.prototype.setLogger=function(e){this.__logger=e},i.prototype.getCompletionCallback=function(e){return this.__completionCallbacks[e]},i.prototype.setCompletionCallbackForVideoInstream=function(e){var t=this.getDivIdsOnlyVideoInstream();for(var i in t)this.__completionCallbacks[t[i]]=e},i.prototype.setBidsAmazon=function(e){if(e&&0!==e.length){var t={};for(var i in e)t.hasOwnProperty(e[i].slotID)||(t[e[i].slotID]=[]),e[i].hasOwnProperty(this.INDEX_VALNET_USED)||(e[i][this.INDEX_VALNET_USED]=!1,e[i][this.INDEX_VALNET_EXPIRED]=!1,e[i][this.INDEX_VALNET_INVALIDATED]=!1,e[i][this.INDEX_VALNET_SENT_CURRENTLY]=!1,e[i][this.INDEX_VALNET_SENT_NUMBER_OF_TIMES]=0,e[i][this.INDEX_VALNET_FROM_AUCTION]=null),t[e[i].slotID].push(e[i]);this.__bidPoolAmazon=t}},i.prototype.setBidsPrebid=function(e){if(e&&0!==Object.keys(e).length)for(var t in e){var i=e[t];e[t]&&"object"==typeof e[t]&&e[t].hasOwnProperty("bids")&&(i=e[t].bids),this.__bidPoolPrebid.hasOwnProperty(t)||(this.__bidPoolPrebid[t]=[]);var n=Object.values(this.__bidPoolPrebid[t].concat(i)).sort(function(e,t){return Math.round(1e3*t.cpm)-Math.round(1e3*e.cpm)});for(var a in n)!n[a].hasOwnProperty(this.INDEX_VALNET_USED)&&(n[a][this.INDEX_VALNET_USED]=!1,n[a][this.INDEX_VALNET_EXPIRED]=!1,n[a][this.INDEX_VALNET_INVALIDATED]=!1,n[a][this.INDEX_VALNET_SENT_CURRENTLY]=!1,n[a][this.INDEX_VALNET_SENT_NUMBER_OF_TIMES]=0,n[a][this.INDEX_VALNET_FROM_AUCTION]=null);this.__bidPoolPrebid[t]=n}},i.prototype.__getBidsForSlot=function(e,t){return!1===this.BIDDING_LIBRARIES.indexOf(e)?(this.__logger.error("Unknown bidding library.",{auctionId:this.__id,adElementId:t,biddingLibrary:e}),[]):this.BIDDING_LIBRARY_AMAZON===e?this.__bidPoolAmazon[t]||[]:this.__bidPoolPrebid[t]||[]},i.prototype.__setBidsForSlot=function(e,t,i){if(!1===this.BIDDING_LIBRARIES.indexOf(e)){this.__logger.error("Unknown bidding library.",{auctionId:this.__id,adElementId:t,biddingLibrary:e});return}return this.BIDDING_LIBRARY_AMAZON===e?this.__bidPoolAmazon[t]=i:this.__bidPoolPrebid[t]=i},i.prototype.getUnusedBids=function(e){if(!1===this.BIDDING_LIBRARIES.indexOf(e))return this.__logger.error("Unknown bidding library.",{auctionId:this.__id,biddingLibrary:e}),[];var t=this.BIDDING_LIBRARY_PREBID===e?this.__bidPoolPrebid:this.__bidPoolAmazon,i={};for(var n in t)for(var a in t[n]){var s=this.__determineIfBidIsUsedOrExpired(e,t[n][a]);t[n][a]=this.__handleNewlyExpiredBid(e,n,t[n][a],s),s.used||s.expired||s.invalidated||s.sentCurrently||(t[n][a][this.INDEX_VALNET_FROM_AUCTION]=this.getId(),i.hasOwnProperty(n)||(i[n]=[]),i[n].push(t[n][a])),s.sentCurrently&&this.BIDDING_LIBRARY_PREBID===e&&this.__pbjsMarkWinningBidAsUsed(n,t[n][a])}return this.__logger.debug("Unused bids.",{auctionId:this.__id,biddingLibrary:e,bids:i}),i},i.prototype.getHighestUnusedBid=function(e,t){var i=this.__getBidsForSlot(e,t);for(var n in this.__logger.debug("Ad slot bid pool.",{auctionId:this.__id,adElementId:t,biddingLibrary:e,bidPool:i}),i){var a=this.__determineIfBidIsUsedOrExpired(e,i[n]);if(!a.used&&!a.expired&&!a.invalidated&&!a.sentCurrently)return i[n][this.INDEX_VALNET_SENT_CURRENTLY]=!0,i[n][this.INDEX_VALNET_SENT_NUMBER_OF_TIMES]+=1,this.__logger.debug("Found highest bid.",{auctionId:this.__id,adElementId:t,biddingLibrary:e,bid:i[n]}),this.__setBidsForSlot(e,t,i),i[n];i[n]=this.__handleNewlyExpiredBid(e,t,i[n],a)}return this.__setBidsForSlot(e,t,i),null},i.prototype.markHighestBidAsUsed=function(e,t,i=!1){var n=this.__getBidsForSlot(e,t);for(var a in n){var s=this.__determineIfBidIsUsedOrExpired(e,n[a]);if(s.sentCurrently&&!s.used&&!s.invalidated)return n[a][this.INDEX_VALNET_USED]=!0,n[a][this.INDEX_VALNET_SENT_CURRENTLY]=!1,i&&(n[a][this.INDEX_VALNET_INVALIDATED]=!0),this.BIDDING_LIBRARY_PREBID===e&&this.__pbjsMarkWinningBidAsUsed(t,n[a]),this.__setBidsForSlot(e,t,n),!0;n[a]=this.__handleNewlyExpiredBid(e,t,n[a],s)}return this.__setBidsForSlot(e,t,n),!1},i.prototype.allowBidsToBeReused=function(e,t){var i=this.__getBidsForSlot(e,t);for(var n in i){var a=this.__determineIfBidIsUsedOrExpired(e,i[n]);!a.sentCurrently||a.used||a.invalidated||(i[n][this.INDEX_VALNET_SENT_CURRENTLY]=!1),i[n]=this.__handleNewlyExpiredBid(e,t,i[n],a)}this.__setBidsForSlot(e,t,i)},i.prototype.__determineIfBidIsUsedOrExpired=function(e,t){var i=!1;if(this.BIDDING_LIBRARY_PREBID===e){var n=(t.ttl-this.TIME_TO_LIVE_BUFFER)*1e3;i=t.responseTimestamp+n<Date.now()}return{used:t[this.INDEX_VALNET_USED],expired:i,newlyExpired:i&&!t[this.INDEX_VALNET_EXPIRED],invalidated:t[this.INDEX_VALNET_INVALIDATED],sentCurrently:t[this.INDEX_VALNET_SENT_CURRENTLY]}},i.prototype.__invalidateBidPool=function(e,t){var i=this.__getBidsForSlot(e,t);for(var n in i){var a=this.__determineIfBidIsUsedOrExpired(e,i[n]);a.used||a.invalidated||(i[n][this.INDEX_VALNET_INVALIDATED]=!0,this.BIDDING_LIBRARY_PREBID===e&&this.__pbjsMarkWinningBidAsUsed(t,i[n])),i[n]=this.__handleNewlyExpiredBid(e,t,i[n],a)}return this.__setBidsForSlot(e,t,i),!0},i.prototype.__handleNewlyExpiredBid=function(e,t,i,n){return n.newlyExpired&&(this.__logger.debug("Expired bid.",{auctionId:this.__id,adElementId:t,biddingLibrary:e,bid:i}),i[this.INDEX_VALNET_EXPIRED]=!0),i},i.prototype.__pbjsMarkWinningBidAsUsed=function(e,t){if(window.pbjs&&"function"==typeof window.pbjs.markWinningBidAsUsed){var i={adUnitCode:e};t.hasOwnProperty("adId")&&(i.adId=t.adId),window.pbjs.markWinningBidAsUsed(i)}},i.prototype.markAllHighestBidsAsUsed=function(e){this.markHighestBidAsUsed(this.BIDDING_LIBRARY_PREBID,e,!0),this.markHighestBidAsUsed(this.BIDDING_LIBRARY_AMAZON,"preroll",!0)},i.prototype.invalidateBidPool=function(e){this.__invalidateBidPool(this.BIDDING_LIBRARY_PREBID,e),this.__invalidateBidPool(this.BIDDING_LIBRARY_AMAZON,"preroll")},window.AdsNinjaAuction=i},function(e,t){window.AdsNinjaRailAdZone=function e(t,i,n,a){this.__data=n,this.__railElementId=t,this.__originalAdElementIdAdElementId=i,this.__adCount=0,this.__lastRecordedRailHeight=0,this.__minimumHeightThreshold=0,this.__currentlyUsedHeight=0,this.__railItemElementHeight=0,this.__adMarginBottom=parseInt(this.__data.railItemMargin||0),this.__previouslyOmittedMargin=!1,this.__firstRailElementHeight=parseInt(a),this.__createNextAdElementId=function(){var e=this.__originalAdElementIdAdElementId+`-RAIL-${this.__adCount}`;return this.__adCount++,e},this.__getAdZoneEventsLog=function(){return window.adsNinjaHeaderBiddingManager.adZoneEventsLog[this.__adElementId]||null},this.__getNextAdHeader=function(e){return this.__data.headerTemplate.replaceAll("DIR_AD_ELEMENT_ID",e)},this.__getNextAdContent=function(e,t){var i=`adsninja-rail-zone-item-${e}`;return`<div class="adsninja-rail-zone-item ${i}" id="${i}" style='margin-bottom: ${t}px'>`+this.__data.contentTemplateInMainContainer.replaceAll("DIR_AD_ELEMENT_ID",e)+"</div>"},this.__getDebugComment=function(e){return`<!-- AdsNinja Rail: Currently using a height of "${e}px" for rail items with the total current rail height being "${this.__lastRecordedRailHeight}px". Rail items are "${this.__railItemElementHeight}px" in height with a margin of "${this.__adMarginBottom}px" between them. -->`},this.getData=function(){return this.__data},this.setup=function(e=!0){var t=document.getElementById(this.__railElementId);if(!t)return window.adsNinjaHeaderBiddingManager.log(`Unable to find rail element with ID: ${this.__railElementId}.`),!1;var i=getComputedStyle(t),n=t.clientHeight;if(n-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),!e&&n-this.__currentlyUsedHeight<this.__minimumHeightThreshold)return window.adsNinjaHeaderBiddingManager.log(`Rail element with ID "${this.__railElementId}" is not tall enough to add more items to it.`),!1;if(this.__lastRecordedRailHeight=n,!this.__railItemElementHeight){var a=`adsninja-rail-zone-item-${this.__originalAdElementIdAdElementId}`,s=document.getElementById(a);if(!s)return window.adsNinjaHeaderBiddingManager.log(`Unable to find first rail item element with ID: ${a}.`),!1;s.classList.contains("hidden")&&(this.__firstRailElementHeight<n?s.classList.remove("hidden"):window.adsNinjaHeaderBiddingManager.log(`Rail element with ID "${this.__railElementId}" is not tall enough to inject any rail ads.`)),this.__railItemElementHeight=s.clientHeight}var r=null;if(e?(r=this.__railItemElementHeight+this.__adMarginBottom,this.__minimumHeightThreshold=this.__railItemElementHeight):r=this.__currentlyUsedHeight,!this.__railItemElementHeight||!r)return window.adsNinjaHeaderBiddingManager.log(`Unable to configure rail element with ID: ${this.__railElementId}.`,{railAdZone:this}),!1;this.__previouslyOmittedMargin&&t.insertAdjacentHTML("beforeend",`<div class="adsninja-rail-zone-item-spacer" style="margin-bottom: ${this.__adMarginBottom}px"></div>`);for(var o=[],d={};r<=n-(this.__railItemElementHeight+this.__adMarginBottom);){var l=null;try{o=(l=this.__process(t,o,d,r)).gamAdSlots,d=l.adRefreshData,r=l.currentlyUsedHeight}catch(h){window.adsNinjaHeaderBiddingManager.log("Unable to append ads to rail: error thrown.",{error:h});break}}if(this.__previouslyOmittedMargin=!1,r<=n-this.__railItemElementHeight){var g=null;try{o=(g=this.__process(t,o,d,r,!0)).gamAdSlots,d=g.adRefreshData,r=g.currentlyUsedHeight,this.__previouslyOmittedMargin=!0}catch(u){window.adsNinjaHeaderBiddingManager.log("Unable to append ads to rail: error thrown.",{error:u})}}this.__currentlyUsedHeight=r;var c=this.__getDebugComment(r);if(t.insertAdjacentHTML("beforeend",c),!o||0===o.length)return window.adsNinjaHeaderBiddingManager.log(`No ads for auction. Rail element with ID: ${this.__railElementId}.`),!1;var f=window.adsNinjaHeaderBiddingManager.setupAjaxAuction(o,window.adsNinjaHeaderBiddingManager.prebidAdUnitBidderConfigs);return window.adsNinjaHeaderBiddingManager.requestHeaderBids(f.getId()),window.adsNinjaHeaderBiddingManager.startFailSafeTimeout(f.getId()),window.adsNinjaHeaderBiddingManager.setupFloatingAdZones(f.getGamAdSlots()),window.adsNinjaHeaderBiddingManager.setupDynamicallyInjectionRefreshAdZones(f.getGamAdSlots(),d),!0},this.recalculate=function(){return this.setup(!1)},this.__process=function(e,t,i,n,a=!1){var s=a?0:this.__adMarginBottom,r=this.__createNextAdElementId(),o=this.__getNextAdHeader(r),d=this.__getNextAdContent(r,s);e.insertAdjacentHTML("beforeend",d);var l=window.adsNinjaHeaderBiddingManager.copyAndAddNewAdDataFromExisting(adElementId,r);return(window.Function(window.adsNinjaHeaderBiddingManager.__stripScriptTags(o))(),r!==l.adElementId)?(this.log("Unable to find gamAdSlot for rail ad.",{adElementId:r}),{gamAdSlots:t,adRefreshData:i,currentlyUsedHeight:n}):(t.push(l),n+=this.__railItemElementHeight+s,i[r]={adElementId:r,headerTemplate:this.__data.headerTemplate,contentTemplate:this.__data.contentTemplate},{gamAdSlots:t,adRefreshData:i,currentlyUsedHeight:n})}}},function(e,t){window.AdsNinjaRefreshingAdZone=function e(t,i,n,a,s,r,o,d,l,h,g,u){this.__data=n,this.__adElementId=t,this.__refreshContainerElementId=i,this.__hasTransitionStarted=!1,this.__prefetch=a,this.__zoneName=s,this.__zoneGroupName=r,this.__isNextAdSetup=!1,this.__pixelDistance=l,this.__pixelTrigger=h,this.__timeBuffer=d,this.__inview=g,this.__minimumTimeBuffer=o,this.inviewWaypoint=null,this.__maxRefresh=11,this.__logger=u,this.createNextAdElementId=function(){var e=this.getOriginalAdElementId();if(!e)return null;var t=Number(this.getRefreshCount());t++,this.setRefreshCount(t);var i=e+`-count-${t}`;return this.setNextAdElementId(i),i},this.isReadyForRefresh=function(e){var t=this.__getAdZoneEventsLog();if(!t||!t.isLoaded||!t.isViewed||!t.isMinimumTimerComplete||this.__hasTransitionStarted||!this.isAllowedToRefresh()||!this.isInView()&&!t.forcedEvents||Number(this.getRefreshCount())>=this.__maxRefresh)return!1;switch(e){case"scroll":case"autoRefresh":return t.isTimerComplete;case"custom":case"inview":case"waypoint":return!0}return!1},this.__getAdZoneEventsLog=function(){return window.adsNinjaHeaderBiddingManager.adZoneEventsLog[this.__adElementId]||null},this.haveTimersStarted=function(){var e=this.__getAdZoneEventsLog();return!!e&&e.haveTimersStarted},this.isTimerComplete=function(){var e=this.__getAdZoneEventsLog();return!!e&&e.isTimerComplete},this.isMinimumTimerComplete=function(){var e=this.__getAdZoneEventsLog();return!!e&&e.isMinimumTimerComplete},this.getAdElement=function(){return document.getElementById(this.__adElementId)},this.getRefreshContainerElement=function(){return document.getElementById(this.__refreshContainerElementId)},this.getOriginalAdElementId=function(){var e=this.getRefreshContainerElement();return e?e.getAttribute("data-original-ad-element-id"):null},this.getCurrentAdElementId=function(){var e=this.getRefreshContainerElement();return e?e.getAttribute("data-current-ad-element-id"):null},this.setCurrentAdElementId=function(e){var t=this.getRefreshContainerElement();if(!t){this.__logger.error("Missing refresh container element.",{adsNinjaRefreshingAdZone:this});return}t.setAttribute("data-current-ad-element-id",e)},this.getNextAdElementId=function(){var e=this.getRefreshContainerElement();return e?e.getAttribute("data-next-ad-element-id"):null},this.setNextAdElementId=function(e){var t=this.getRefreshContainerElement();if(!t){this.__logger.error("Missing refresh container element.",{adsNinjaRefreshingAdZone:this});return}t.setAttribute("data-next-ad-element-id",e)},this.getRefreshCount=function(){return this.getRefreshContainerElement()?this.getRefreshContainerElement().getAttribute("data-refresh-count"):null},this.setRefreshCount=function(e){if(!this.getRefreshContainerElement()){this.__logger.error("Missing refresh container element.",{adsNinjaRefreshingAdZone:this});return}this.getRefreshContainerElement().setAttribute("data-refresh-count",e)},this.getRefreshHeader=function(){return this.__data.headerTemplate.replaceAll("DIR_AD_ELEMENT_ID",this.__adElementId)},this.getRefreshContent=function(){return'<div class="ad-next" style="display: none;">'+this.__data.contentTemplate.replaceAll("DIR_AD_ELEMENT_ID",this.__adElementId)+"</div>"},this.getData=function(){return this.__data},this.getRefreshContainerElementId=function(){return this.__refreshContainerElementId},this.isInView=function(){var e=document.getElementById(this.__adElementId);if(!e)return this.__logger.log(`Unable to find ad element with ID for in-view check: ${this.__adElementId}.`),!1;var t=e.getBoundingClientRect(),i=(t.height+t.y)/t.height*100;i=isNaN(i)?0:i;var n=(t.width+t.x)/t.width*100;return n=isNaN(n)?0:n,i>=50&&n>=50&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},this.getHasTransitionStarted=function(){return this.__hasTransitionStarted},this.setHasTransitionStarted=function(e){this.__hasTransitionStarted=e},this.changeShownAdInContainer=function(){var e=this.getRefreshContainerElement();if(e){this.inviewWaypoint&&this.inviewWaypoint.destroy();var t=e.querySelector(".ad-current"),i=e.querySelector(".ad-next");t.classList.remove("ad-current"),i.classList.remove("ad-next"),t.classList.add("ad-previous"),i.classList.add("ad-current"),t.style.display="none",i.style.display="unset";var n=window.adsNinjaHeaderBiddingManager.getAdsData(this.__adElementId),a=this.removeGptReference();n.canRemoveVendorSpecificContainers()&&this.__closeVendorSpecificContainers(),this.__logger.log("Destroyed ad slot.",{didDestroy:a,adElementId:this.getCurrentAdElementId()}),this.setCurrentAdElementId(this.getNextAdElementId()),this.setNextAdElementId(""),t.parentNode.removeChild(t)}},this.setNoFloatingAllowed=function(){var e=this.getRefreshContainerElement();e&&(e.classList.add("no-floating"),e.setAttribute("data-floating-allowed","false"))},this.isAllowedToFLoat=function(){var e=this.getRefreshContainerElement();return!e||"true"===e.getAttribute("data-floating-allowed")},this.setNoRefreshingAllowed=function(){var e=this.getRefreshContainerElement();e&&e.setAttribute("data-refreshing-allowed","false")},this.isAllowedToRefresh=function(){var e=this.getRefreshContainerElement();return!e||"true"===e.getAttribute("data-refreshing-allowed")},this.disablePixelRefresher=function(){var e=this.getOriginalAdElementId();if(!e){this.__logger.error("Missing original ad element ID.",{adsNinjaRefreshingAdZone:this});return}window.adsNinjaHeaderBiddingManager.pixelRefreshers[e]&&window.adsNinjaHeaderBiddingManager.pixelRefreshers[e].disable()},this.removeScrollTimerRefresher=function(){window[`scrollEventListener_${this.__adElementId}`]&&document.removeEventListener("scroll",window[`scrollEventListener_${this.__adElementId}`],!!window.adsNinjaHeaderBiddingManager.arePassiveEventListenersSupported()&&{passive:!0})},this.removeGptReference=function(){var e=this.getCurrentAdElementId(),t=null,i=window.googletag.pubads().getSlots();for(var n in i){var a=i[n];if(e===a.getSlotElementId()){t=a;break}}return!!t&&"object"==typeof t&&window.googletag.destroySlots([t])},this.removeRefreshContainerElementAds=function(){var e=this.getRefreshContainerElement();if(!e){this.__logger.error("Missing refresh container element.",{adsNinjaRefreshingAdZone:this});return}var t=e.querySelector(".ad-current"),i=e.querySelector(".ad-next");e.removeChild(t),e.removeChild(i)},this.getZoneName=function(){return this.__zoneName},this.getZoneGroupName=function(){return this.__zoneGroupName},this.isAllowedToPrefetch=function(){return this.__prefetch},this.isNextAdSetup=function(){return this.__isNextAdSetup},this.setIsNextAdSetup=function(e){this.__isNextAdSetup=e},this.getMinimumTimeBuffer=function(){return this.__minimumTimeBuffer},this.getTimeBuffer=function(){return this.__timeBuffer},this.getPixelDistance=function(){return this.__pixelDistance},this.getPixelTrigger=function(){return this.__pixelTrigger},this.getInview=function(){return this.__inview},this.hasTimerRefresh=function(){return this.__timeBuffer},this.hasInViewRefresh=function(){return this.__inview},this.createInviewWaypoint=function(){this.inviewWaypoint=new Waypoint.Inview({element:document.getElementById(this.__adElementId),entered:function(e){this.element.setAttribute("data-is-viewable","true"),self.hasInViewRefresh()&&window.adsNinjaHeaderBiddingManager.refreshAdElement(this.element.id,"inview")},exited:function(e){this.element.setAttribute("data-is-viewable","false")}})},this.__closeVendorSpecificContainers=function(){var e=this.__closeContainerKargo(),t=!1;e||(t=this.__closeContainerGumGum()),(e||t)&&window.adsNinjaHeaderBiddingManager.log("Removed vendor specific container.",{vendor:e?1:2})},this.__closeContainerKargo=function(){var e=document.querySelectorAll('[class^="kargo-ad-v"]');if(0===e.length)return!1;for(var t in e){var i=e[t];if(i&&i.parentElement&&"body"===i.parentElement.tagName.toLowerCase()&&i.querySelectorAll(".kargo-hover-close.filled").length>0)return i.remove(),!0}return!1},this.__closeContainerGumGum=function(){var e=document.querySelectorAll('[id^="ad_is_"][id$="_CLOSE"]');if(e.length>0){var t=e[0].id;if(!t)return!1;var i=t.replace("_CLOSE",""),n=document.getElementById(i);if(!n)return!1;var a=n.parentElement;if(a&&a.parentElement&&"body"===a.parentElement.tagName.toLowerCase())return n.remove(),!0}return!1}}},function(e,t){function i(e){if(this.ID_AD_TYPE_GAM_NEW=3,this.ID_AD_TYPE_GAM_VVV=4,this.ID_VIDEO_TYPE_INSTREAM="instream",this.ID_VIDEO_TYPE_OUTSTREAM="outstream",this.ID_USER_ACTIVITY_TYPE_LONGEST_STRETCH_OF_INACTIVITY=1,this.ID_USER_ACTIVITY_TYPE_LAST_RECORDED_ACTIVITY=2,this.ID_USER_ACTIVITY_TYPE_TOTAL_TIME_INACTIVE=3,this.ID_VIDEO_PLAYER_VALSTREAM=1,this.ID_VIDEO_PLAYER_AMAZON=2,this.zoneName=e.zoneName,this.zoneGroupName=e.zoneGroupName,this.useAmazon=e.useAmazon,this.usePrebid=e.usePrebid,this.adElementId=e.adElementId,this.onPageLoad=e.onPageLoad,this.dynamicInjectionRefresh=e.dynamicInjectionRefresh,this.floating=e.floating,this.adUnitPath=e.adUnitPath,this.pos=e.pos,this.sizeArray=e.sizeArray,this.width=e.width,this.height=e.height,this.__originalAdData=e.originalAdData||e.__originalAdData,this.__hasAdData()&&this.__hasAdDataVideoOptions()){var t=this.__originalAdData.videoOptions.sizeArray;t=t?JSON.parse(t):null,this.__originalAdData.videoOptions.sizeArray=t}}i.prototype.__setAdDimensions=function(e,t){var i="auto",n="auto",a=null;null!==e.customDimensions?(void 0!==(a=e.customDimensions.split("x"))[0]&&""!==a[0]&&(i=a[0].includes("%")?a[0]:`${a[0]}px`),void 0!==a[1]&&""!==a[1]&&(n=a[1].includes("%")?a[1]:`${a[1]}px`)):null!==e.dimension&&"no_size"!==e.dimension.dimension&&(i=`${(a=e.dimension.dimension.split("x"))[0]}px`,n=`${a[1]}px`),this.width=i,this.height=n},i.prototype.getVideoSettings=function(){return this.__originalAdData&&Object.keys(this.__originalAdData).length>0&&this.__originalAdData.videoOptions&&Object.keys(this.__originalAdData.videoOptions).length>0?this.__originalAdData.videoOptions:null},i.prototype.getVideoList=function(){return this.__hasAdData()&&this.__originalAdData.videoList&&Object.keys(this.__originalAdData.videoList).length>0?this.__originalAdData.videoList:null},i.prototype.__hasAdData=function(){return this.__originalAdData&&Object.keys(this.__originalAdData).length>0},i.prototype.hasAdDataUserActivityOptions=function(){return this.__hasAdData()&&this.__originalAdData.userActivityOptions&&Object.keys(this.__originalAdData.userActivityOptions).length>0},i.prototype.getUserActivityOptions=function(){return this.__originalAdData.userActivityOptions||null},i.prototype.__hasAdDataVideoOptions=function(){return this.__hasAdData()&&this.__originalAdData.videoOptions&&Object.keys(this.__originalAdData.videoOptions).length>0},i.prototype.hasSupportForVideoOutstream=function(){return this.__hasAdData()&&this.__hasAdDataVideoOptions()&&this.__originalAdData.videoOptions.hasOwnProperty("type")&&this.ID_VIDEO_TYPE_OUTSTREAM===this.__originalAdData.videoOptions.type},i.prototype.hasSupportForVideoInstream=function(){return this.__hasAdData()&&this.__hasAdDataVideoOptions()&&this.__originalAdData.videoOptions.hasOwnProperty("type")&&this.ID_VIDEO_TYPE_INSTREAM===this.__originalAdData.videoOptions.type},i.prototype.usesVideoPlayerAmazon=function(){return this.__hasAdData()&&this.__hasAdDataVideoOptions()&&this.__originalAdData.videoOptions.hasOwnProperty("videoPlayer")&&this.__originalAdData.videoOptions.videoPlayer.hasOwnProperty("id")&&this.ID_VIDEO_PLAYER_AMAZON===this.__originalAdData.videoOptions.videoPlayer.id},i.prototype.usesVideoPlayerValstream=function(){return this.__hasAdData()&&this.__hasAdDataVideoOptions()&&this.__originalAdData.videoOptions.hasOwnProperty("videoPlayer")&&this.__originalAdData.videoOptions.videoPlayer.hasOwnProperty("id")&&this.ID_VIDEO_PLAYER_VALSTREAM===this.__originalAdData.videoOptions.videoPlayer.id},i.prototype.getAdUnitPath=function(){return this.adUnitPath},i.prototype.canRemoveVendorSpecificContainers=function(){return this.__hasAdData()&&this.__originalAdData.zone&&"object"==typeof this.__originalAdData.zone&&this.__originalAdData.zone.hasOwnProperty("canRemoveVendorSpecificContainers")&&this.__originalAdData.zone.canRemoveVendorSpecificContainers},i.prototype.canNotUseSpace=function(){return this.__hasAdData()&&this.__originalAdData.hasOwnProperty("doNotUseSpace")&&this.__originalAdData.doNotUseSpace},i.prototype.getOriginalAdElementId=function(){return this.__hasAdData()&&this.__originalAdData.hasOwnProperty("divId")&&this.__originalAdData.divId?this.__originalAdData.divId:null},i.prototype.getFloatingPriority=function(){return this.__hasAdData()&&this.__originalAdData.zone&&"object"==typeof this.__originalAdData.zone&&this.__originalAdData.zone.hasOwnProperty("floatingPriority")&&this.__originalAdData.zone.floatingPriority.hasOwnProperty("value")?this.__originalAdData.zone.floatingPriority.value:2147483647},window.AdsNinjaAdUnit=i},function(e,t){function i(){this.DEFAULT_MESSAGE_PILL="AdsNinja",this.DEFAULT_STYLE_PILL="display: inline-block; padding: 1px 4px; border-radius: 3px;",this.DEFAULT_STYLE_PILL_DEBUG="background: blue; color: #fff;",this.DEFAULT_STYLE_PILL_WARN="background: yellow; color: #000;",this.DEFAULT_STYLE_PILL_ERROR="background: red; color: #fff;"}i.prototype.__getLogData=function(e,t=!0){var i=null;if("object"==typeof e&&0!==Object.keys(e).length&&null!==e){if(i=e,t)try{i=JSON.parse(JSON.stringify(e))}catch(n){this.warn(n.message,{error:n,data:e},!1),i=e}}else i="";return i},i.prototype.log=function(e,t={},i=!0){var n=this.__getLogData(t,i);console.log(`%c${this.DEFAULT_MESSAGE_PILL}`,`${this.DEFAULT_STYLE_PILL} ${this.DEFAULT_STYLE_PILL_DEBUG}`,e,n)},i.prototype.info=function(e,t={},i=!0){this.log(e,t)},i.prototype.debug=function(e,t={},i=!0){var n=this.__getLogData(t,i);console.debug(`%c${this.DEFAULT_MESSAGE_PILL}`,`${this.DEFAULT_STYLE_PILL} ${this.DEFAULT_STYLE_PILL_DEBUG}`,e,n)},i.prototype.warn=function(e,t={},i=!0){var n=this.__getLogData(t,i);console.warn(`%c${this.DEFAULT_MESSAGE_PILL}`,`${this.DEFAULT_STYLE_PILL} ${this.DEFAULT_STYLE_PILL_WARN}`,e,n)},i.prototype.error=function(e,t={},i=!0){var n=this.__getLogData(t,i);console.error(`%c${this.DEFAULT_MESSAGE_PILL}`,`${this.DEFAULT_STYLE_PILL} ${this.DEFAULT_STYLE_PILL_ERROR}`,e,n)},window.AdsNinjaLogger=i},function(e,t){function i(){this.__arePassiveEventListenersSupported=null}i.prototype.throttle=function(e,t){var i=!0;return function(){var n=Array.prototype.slice.call(arguments,0);i&&(i=!1,e.apply(null,n),setTimeout(function(){i=!0},t))}},i.prototype.arePassiveEventListenersSupported=function(){if(null!==this.__arePassiveEventListenersSupported)return this.__arePassiveEventListenersSupported;var e=!1;try{var t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(i){e=!1}return this.__arePassiveEventListenersSupported=e,this.__arePassiveEventListenersSupported},window.AdsNinjaEventHelper=i},function(e,t){function i(){this.__trackingStartTime=Date.now(),this.__userActivityLastRecorded=Date.now(),this.__longestStretchOfInactivity=0,this.__totalTimeInactive=0,this.__throttleInterval=1e3,this.__lastRecordedEvent=null,this.__eventHelper=new AdsNinjaEventHelper,this.__registerUserActivityEventListeners()}i.prototype.hasUserBeenInactiveForThreshold=function(e){var t=Date.now()-this.__userActivityLastRecorded;return t>this.__longestStretchOfInactivity&&(this.__longestStretchOfInactivity=t),this.__longestStretchOfInactivity>e},i.prototype.hasUserActivityBeenDetectedRecently=function(e){var t=Date.now()-this.__userActivityLastRecorded;return t>this.__longestStretchOfInactivity&&(this.__longestStretchOfInactivity=t),t<e},i.prototype.hasTotalUserInactivityExceededThreshold=function(e){var t=Date.now()-this.__userActivityLastRecorded;return this.__totalTimeInactive+t>e},i.prototype.hasTotalTrackingTimeExceededThreshold=function(e){return this.getTotalTrackingTime()>e},i.prototype.getTotalTrackingTime=function(){return Date.now()-this.__trackingStartTime},i.prototype.__registerUserActivityEventListeners=function(){var e=this,t=this.__eventHelper.throttle(function(t){var i=Date.now()-e.__userActivityLastRecorded;e.__totalTimeInactive+=i-e.__throttleInterval,e.__longestStretchOfInactivity=i>e.__longestStretchOfInactivity?i:e.__longestStretchOfInactivity,e.__userActivityLastRecorded=Date.now(),e.__lastRecordedEvent=t.type||null},this.__throttleInterval),i=!!this.__eventHelper.arePassiveEventListenersSupported()&&{passive:!0};document.addEventListener("scroll",t,i),document.addEventListener("touchstart",t,i),document.addEventListener("touchmove",t,i),document.addEventListener("mousedown",t,i),document.addEventListener("mousemove",t,i),document.addEventListener("keydown",t,i)},window.AdsNinjaUserActivityMonitor=i},function(e,t){window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.adsNinjaHeaderBiddingManager={AD_CAPABILITY_FLOATING_TOP_MIDDLE:"floatingTopMiddle",AD_CAPABILITY_VIDEO_INSTREAM_VALSTREAM:"videoInstreamValstream",AD_CAPABILITY_CAN_REMOVE_FLOATING_CLOSE_BUTTON:"canRemoveFloatingCloseButton",PREBID_BID_CONTEXT_VALSTREAM_INSTREAM:"instream",PREBID_BID_CONTEXT_VALSTREAM_OUTSTREAM:"outstream",ID_USER_ACTIVITY_TYPE_LONGEST_STRETCH_OF_INACTIVITY:1,ID_USER_ACTIVITY_TYPE_LAST_RECORDED_ACTIVITY:2,ID_USER_ACTIVITY_TYPE_TOTAL_TIME_INACTIVE:3,ID_USER_ACTIVITY_TYPE_TOTAL_TIME_TRACKING:4,BIDDING_LIBRARY_AMAZON:"amazon",BIDDING_LIBRARY_PREBID:"prebid",PREBID_CREATIVE_IDS:["138409893260","138410473648","138410473900",],AMAZON_CREATIVE_IDS:["138412512682","138424050572","138424057469","138424104372","138424057442","138424104612",],auctions:{},amazonAdSlots:[],prebidAdUnits:[],floatingAdZones:{},autoRefreshAdZones:{},refreshingAdZones:{},railAdZones:{},adZoneEventsLog:{},pixelRefreshers:{},__adsData:{},__adZoneMapping:{},__initialized:!1,__prebidTimeout:null,__amazonTimeout:null,__failsafeTimeout:null,__failsafeTimeoutEu:null,__isEuTraffic:null,__logData:{},__arePassiveEventListenersSupported:null,__previousDocumentHeight:0,__bodyObserver:null,__firstAuctionCompleteEventListenersAndObserversRegistered:!1,__modeAds:1,__deviceType:null,__adCountData:null,__extendedSectionDataLog:[],__previousDocumentHeightRailAdZones:0,__prebidServerAliasData:{},__adCapabilities:{},__videoList:[],sspsThatCouldHaveOwnCloseButton:{},__auctionsVideoInstreamDictionary:{},logger:null,__floatingEventDictionary:{},__userActivityMonitor:null,__eventHelper:null,__consentNeeded:!1,consentKnown:!1,prebidAdUnitBidderConfigs:null,__eventTrackingDictionary:{},log:function(e,t={}){if("object"==typeof t&&0!==Object.keys(t).length&&null!==t){console.debug("%cAds Debug Log","display: inline-block; color: #fff; background: blue; padding: 1px 4px; border-radius: 3px;",e,t);return}console.debug("%cAds Debug Log","display: inline-block; color: #fff; background: blue; padding: 1px 4px; border-radius: 3px;",e)},doesAuctionExist:function(e){return window.adsNinjaHeaderBiddingManager.auctions.hasOwnProperty(e)},__addAuction:function(e,t){if(this.auctions.hasOwnProperty(e))throw Error(`There is already an auction registered with the ID: ${e}.`);this.auctions[e]=t},__createAuction:function(e=null,t=null){var i=null;return i="string"==typeof t?t:"boolean"==typeof e?e?"onPageLoad":"afterPageLoad":Date.now().toString(),new window.AdsNinjaAuction(i)},bidsBack:function(e){if(!this.doesAuctionExist(e))throw Error(`There is no auction registered with the ID: ${e}.`);window.adsNinjaHeaderBiddingManager.auctions[e].areAmazonBidsBack()&&window.adsNinjaHeaderBiddingManager.auctions[e].arePrebidBidsBack()&&(window.adsNinjaHeaderBiddingManager.log(`Bids from Prebid and A9 are back for auction: ${e}!`),window.adsNinjaHeaderBiddingManager.auctions[e].getShouldDelaySendingAdServerRequest()||this.sendAdServerRequest(e))},sendAdServerRequest:function(e){if(!this.__isUsingFakeAds()){if(!this.doesAuctionExist(e))throw Error(`There is no auction registered with the ID: ${e}.`);if(!0===window.adsNinjaHeaderBiddingManager.auctions[e].isAdServerRequestSent()){window.adsNinjaHeaderBiddingManager.log(`Ad server request already sent for auction: ${e}.`);return}window.adsNinjaHeaderBiddingManager.auctions[e].setIsAdServerRequestSent(!0);var t=window.adsNinjaHeaderBiddingManager.auctions[e].getDivIdsOnlyBanner();void 0!==window.googletag&&window.googletag.hasOwnProperty("cmd")&&t&&t.length>0&&this.sendGamAdServerRequest(e,t),this.__registerAuctionVideoInstreamIfAvailable(e)}},sendGamAdServerRequest:function(e,t){var i=window.googletag.pubads().getSlots(),n=[];for(var a in i){var s=i[a];for(var r in t)t[r]==s.getSlotElementId()&&n.push(s)}window.googletag.cmd.push(function(){if(window.googletag.pubads().refresh(n),"function"==typeof window.oPageUnload&&"onPageLoad"!==e)for(var i in n)window.oPageUnload(n[i].getSlotElementId());else"function"==typeof window.oPageUnload&&"onPageLoad"===e&&window.oPageUnload(1);window.adsNinjaHeaderBiddingManager.log(`Ad server request sent for auction: ${e}.`,{slotsForAuction:n,divIds:t})})},requestHeaderBids:function(e){if(!this.__isUsingFakeAds()){if(!this.doesAuctionExist(e))throw Error(`There is no auction registered with the ID: ${e}.`);if(!0===this.auctions[e].areBidsRequested()){this.log(`Already requested bids for auction: ${e}.`);return}this.auctions[e].setAreBidsRequested(!0),this.log(`Requesting bids for auction: ${e}!`),this.auctions[e].isAmazonAvailable()?window.apstag.fetchBids({slots:this.auctions[e].getAmazonAdSlots(),timeout:this.auctions[e].getAmazonTimeout()},function(t){window.googletag.cmd.push(function(){window.apstag.setDisplayBids(),window.adsNinjaHeaderBiddingManager&&(window.adsNinjaHeaderBiddingManager.log(`Amazon bids for auction: ${e}.`,{bids:t}),window.adsNinjaHeaderBiddingManager.auctions[e].setAreAmazonBidsBack(!0),window.adsNinjaHeaderBiddingManager.auctions[e].setBidsAmazon(t),window.adsNinjaHeaderBiddingManager.bidsBack(e))})}):this.auctions[e].setAreAmazonBidsBack(!0),this.auctions[e].isPrebidAvailable()?window.pbjs.que.push(function(){var t=window.adsNinjaHeaderBiddingManager.auctions[e].getPrebidAdUnits();window.pbjs.requestBids({adUnits:t,bidsBackHandler:function(t,i,n){window.googletag.cmd.push(function(){var a=window.adsNinjaHeaderBiddingManager.auctions[e].getPrebidAdUnitCodesNonInstreamVideo();a&&a.length>0&&window.pbjs.setTargetingForGPTAsync(a),window.adsNinjaHeaderBiddingManager.log(`Prebid bids for auction: ${e}.`,{bids:t,timedOut:i,prebidAuctionId:n}),window.adsNinjaHeaderBiddingManager.auctions[e].setArePrebidBidsBack(!0),window.adsNinjaHeaderBiddingManager.auctions[e].setBidsPrebid(t),window.adsNinjaHeaderBiddingManager.bidsBack(e)})}})}):this.auctions[e].setArePrebidBidsBack(!0)}},startFailSafeTimeout:function(e){if(!this.doesAuctionExist(e))throw Error(`There is no auction registered with the ID: ${e}.`);if(!e||!this.__failsafeTimeout||"number"!=typeof this.__failsafeTimeout){window.adsNinjaHeaderBiddingManager.log("Unable to set a failsafe timout!",{auctionId:e,failsafeTimeout:this.__failsafeTimeout,failsafeTimeoutEu:this.__failsafeTimeoutEu,isEuTraffic:this.__isEuTraffic});return}var t=this.__failsafeTimeout;this.__isEuTraffic&&this.__failsafeTimeoutEu&&"number"==typeof this.__failsafeTimeoutEu&&(t=this.__failsafeTimeoutEu),window.setTimeout(function(){window.adsNinjaHeaderBiddingManager.log(`Bidding failsafe timeout reached for auction: ${e}!`,{prebidBiddersBack:window.adsNinjaHeaderBiddingManager.auctions[e].arePrebidBidsBack(),isPrebidAvailable:window.adsNinjaHeaderBiddingManager.auctions[e].isPrebidAvailable(),amazonBiddersBack:window.adsNinjaHeaderBiddingManager.auctions[e].areAmazonBidsBack(),isAmazonAvailable:window.adsNinjaHeaderBiddingManager.auctions[e].isAmazonAvailable()}),window.adsNinjaHeaderBiddingManager.sendAdServerRequest(e)},t),window.adsNinjaHeaderBiddingManager.log(`Failsafe timout set at ${t}ms for auction: ${e}!`)},__filterGamAdSlotsByPageLoadAndIsDefined:function(e,t){return(e=Object.values(e)).filter(function(e){return(t===e.onPageLoad||String(t)===e.onPageLoad)&&!e.usesVideoPlayerValstream()})},__filterAdsDataByPageLoadAndManagedVideo:function(e){return(e=Object.values(e)).filter(function(e){return(!0===e.onPageLoad||String(!0)===e.onPageLoad)&&e.usesVideoPlayerValstream()})},__setAdDimensions:function(e,t){var i="auto",n="auto";if(null!==e.customDimensions){var a=e.customDimensions.split("x");void 0!==a[0]&&""!==a[0]&&(i=a[0].includes("%")?a[0]:`${a[0]}px`),void 0!==a[1]&&""!==a[1]&&(n=a[1].includes("%")?a[1]:`${a[1]}px`)}else if(null!==e.dimension&&"no_size"!==e.dimension.dimension){var a=e.dimension.dimension.split("x");i=`${a[0]}px`,n=`${a[1]}px`}t.width=i,t.height=n},copyAndAddNewAdDataFromExisting(e,t){var i=JSON.parse(JSON.stringify(this.getAdsData(e)));return i.adElementId=t,i=new AdsNinjaAdUnit(i),this.__addNewAdData(i),i},__addNewAdData(e){this.__adsData[e.adElementId]=e},__createAndAddNewAdData:function(e){var t=e.bidderTypes,i=!1,n=!1,a=!e.isDynamicallyInjected,s=e.positionsName,r=e.sizeArray;if(r=r?JSON.parse(r):null,""!==s)var s=JSON.parse(s);else s=null;for(var o in t){var d=t[o];"Amazon"===d.name?i=!0:"Prebid"===d.name&&(n=!0)}var l={zoneName:e.zone.name,zoneGroupName:e.zone.groupName,useAmazon:i,usePrebid:n,adElementId:e.divId,onPageLoad:a,dynamicInjectionRefresh:e.refreshOptions,floating:e.floatingOptions,adUnitPath:e.slotName,pos:s,sizeArray:r,originalAdData:e};return this.__setAdDimensions(e,l),l=new window.AdsNinjaAdUnit(l),this.__addNewAdData(l),l},setModeAds:function(e){this.__modeAds=e},getDeviceType:function(){return this.__deviceType},setDeviceType:function(e){this.__deviceType=e},init:function(e,t,i,n,a,s,r){if(this.logger=new AdsNinjaLogger,this.__userActivityMonitor=new AdsNinjaUserActivityMonitor,this.__eventHelper=new AdsNinjaEventHelper,this.__logData="object"==typeof s?s:JSON.parse(s),this.log("Setup debug log data.",this.__logData),this.initialized){this.log("Unable to init adsNinjaHeaderBiddingManager, it has already been initialized.");return}for(var o in this.__previousDocumentHeight=this.getDocumentHeight(),r){var d=r[o];this.__createAndAddNewAdData(d)}if(!e||isNaN(e)||!t||isNaN(t)||!i||isNaN(i)||"boolean"!=typeof a||!s)throw Error("Init validation failed.");this.__prebidTimeout=e,this.__amazonTimeout=t,this.__failsafeTimeout=i,this.__failsafeTimeoutEu=n,this.__isEuTraffic=a,this.__initialized=!0,this.__injectAnchor()},setup:function(e,t,i){if(!this.__initialized)throw Error("Unable to setup auction, adsNinjaHeaderBiddingManager has not been initialized yet.");var n=this.__filterGamAdSlotsByPageLoadAndIsDefined(e,i),a=this.__createAuction(i);a.setLogger(this.logger),a.setAmazonTimeout(this.__amazonTimeout),a.setPrebidTimeout(this.__prebidTimeout),a.setIsEuTraffic(this.__isEuTraffic),a.setIsPageLoad(i),a.setGamAdSlots(n||[]),a.setPrebidAdUnitBidderConfigs(t),a=this.__setupAmazon(a);var s=(a=this.__setupPrebid(a)).getId();return this.auctions[s]=a,a},setupAuctionVideo:function(e,t,i=null){if(!this.__initialized)throw Error("Unable to setup auction, adsNinjaHeaderBiddingManager has not been initialized yet.");var n=this.__createAuction();n.setLogger(this.logger),n.setAmazonTimeout(this.__amazonTimeout),n.setPrebidTimeout(this.__prebidTimeout),n.setIsEuTraffic(this.__isEuTraffic),n.setIsPageLoad(!1),n.setGamAdSlots([e]),n.setPrebidAdUnitBidderConfigs(t),n.setCompletionCallbackForVideoInstream(i),n=this.__setupAmazon(n);var a=(n=this.__setupPrebid(n)).getId();return this.auctions[a]=n,n},setupRefreshAuction:function(e,t,i=null,n=null){if(!this.__initialized)throw Error("Unable to setup auction, adsNinjaHeaderBiddingManager has not been initialized yet.");var a=this.__createAuction(!1,e.adElementId);a.setLogger(this.logger),a.setAmazonTimeout(i||this.__amazonTimeout),a.setPrebidTimeout(n||this.__prebidTimeout),a.setIsEuTraffic(this.__isEuTraffic),a.setIsPageLoad(!1),a.setGamAdSlots([e]),a.setPrebidAdUnitBidderConfigs(t),a.setShouldDelaySendingAdServerRequest(!0),a=this.__setupAmazon(a);var s=(a=this.__setupPrebid(a)).getId();return this.auctions[s]=a,a},setupAjaxAuction:function(e,t){if(!this.__initialized)throw Error("Unable to setup auction, adsNinjaHeaderBiddingManager has not been initialized yet.");var i=this.__createAuction();i.setLogger(this.logger),i.setAmazonTimeout(this.__amazonTimeout),i.setPrebidTimeout(this.__prebidTimeout),i.setIsEuTraffic(this.__isEuTraffic),i.setIsPageLoad(!1),i.setGamAdSlots(e||[]),i.setPrebidAdUnitBidderConfigs(t),i=this.__setupAmazon(i);var n=(i=this.__setupPrebid(i)).getId();return this.auctions[n]=i,i},__setupAmazon:function(e){var t=e.getGamAdSlots();if(!t||0===t.length)return this.log("Unable to setup Amazon: gamAdSlots is empty!",e),e;for(var i in t){var n=t[i];if(!0===n.useAmazon||"true"===n.useAmazon){var a=this.__formatSizeArrayForAmazonAdRequest(n.sizeArray);if(!a||0===a.length){this.log("Unable to process GAM ad slot for amazon: sizes empty!",n);continue}var s=n.getVideoSettings(),r={slotID:n.adElementId,slotName:n.adUnitPath};if(s&&n.usesVideoPlayerAmazon()&&n.hasSupportForVideoOutstream()&&s.sizeArray&&s.sizeArray.length>0)r.mediaType="multi-format",r.multiFormatProperties={display:{sizes:a},video:{sizes:this.__formatSizeArrayForAmazonAdRequest(s.sizeArray)}};else if(s&&n.usesVideoPlayerValstream()&&n.hasSupportForVideoInstream()&&s.sizeArray&&s.sizeArray.length>0)r.slotID="preroll",r.mediaType="video",delete r.slotName;else if(s){this.log("Unable to configure slot for Amazon auction.",{ad:n,auctionId:e.getId()});continue}else r.sizes=a;e.addAmazonAdSlot(r),this.amazonAdSlots.push(r)}}return e.getAmazonAdSlots().length>0?this.log(`Amazon data for auction: ${e.getId()}.`,{amazonAdSlots:e.getAmazonAdSlots(),amazonTimeout:e.getAmazonTimeout()}):this.log(`Not using Amazon for auction: ${e.getId()}.`),"onPageLoad"===e.getId()&&this.__initAmazon(),e},__initAmazon:function(){if(window.adsNinjaAmazonInitData){var e={ortb2:{site:{name:this.getBrandName(),ext:{template:this.getTemplate(),cat:this.getSiteCategory(),postID:this.getPostId()}}}};window.adsNinjaAmazonInitData.signals=e,window.apstag.init(window.adsNinjaAmazonInitData)}},__setupPrebid:function(e){var t=[],i=e.getGamAdSlots(),n=e.getPrebidAdUnitBidderConfigs(),a=e.getPrebidTimeout(),s=a-300;if(e.isEuTraffic(),!i||0===i.length||!n||0===Object.keys(n).length)return this.log("Unable to setup Prebid: gamAdSlots or adUnitBidderConfigs is empty!",e),e;for(var r in i){var o=i[r];if(!0===o.usePrebid||"true"===o.usePrebid){var d="";if(Array.isArray(o.sizeArray))for(z in o.sizeArray)d&&(d+=","),d+=o.sizeArray[z][0],d+="x",d+=o.sizeArray[z][1];if(!d){this.log("Unable to process GAM ad slot for prebid: sizes empty!",o);continue}var l="";if(!Array.isArray(o.pos)){this.log("Unable to process GAM ad slot: value for key pos is not an array!",o);continue}for(w in o.pos)l&&(l+=","),l+=o.pos[w];if(!l){this.log("Unable to process GAM ad slot for Prebid: positions empty!",o);continue}t.push({id:o.adElementId,sizes:d,pos:l,zoneName:o.zoneName,adUnitPath:o.adUnitPath,data:o})}}if(0===t.length)return this.log(`Not using Prebid for auction: ${e.getId()}.`),e;var h=[];if(void 0===n)return this.log("No Prebid bidders available."),e;var g=new URLSearchParams(window.location.search).get("pbjs_ignore_bids");for(var u in g=g?g.split(","):g,Object.keys(n).forEach(function(e){if(g&&g.includes(e)){window.adsNinjaHeaderBiddingManager.log(`Ignoring Prebid bidder: ${e}.`);return}h.push({name:e,data:n[e]})}),t){var c=[];for(var f in t[u].data.usesVideoPlayerValstream()?(c.push(this.__createAdUnitToAuctionPrebid(t[u],h,this.PREBID_BID_CONTEXT_VALSTREAM_INSTREAM)),c.push(this.__createAdUnitToAuctionPrebid(t[u],h,this.PREBID_BID_CONTEXT_VALSTREAM_OUTSTREAM))):c.push(this.__createAdUnitToAuctionPrebid(t[u],h)),c)c[f].bids.length>0&&(e.addPrebidAdUnit(c[f]),this.prebidAdUnits.push(c[f]))}return this.log(`Prebid data for auction: ${e.getId()}.`,{definedSlots:t,adUnitBidderConfigs:n,prebidAdUnits:e.getPrebidAdUnits(),prebidServerAliasData:this.__prebidServerAliasData}),"onPageLoad"!==e.getId()||(window.pbjs.que.push(function(){window.pbjs.enableAnalytics([{provider:"adagio"},{provider:"atsAnalytics",options:{pid:"13704"}}]);var e=[{max:5,increment:.01},{max:10,increment:.05},{max:20,increment:.1},{max:50,increment:.25},],t=["thesportster.com"];for(var i in t)if(-1!==window.location.hostname.indexOf(t[i])){e=[{max:50.99,increment:.01}];break}var n={buckets:e},r=null;switch(window.adsNinjaHeaderBiddingManager.getDeviceType()){case"mobile":r="mo";break;case"desktop":r="de"}var o={clientID:"76",optimeraKeyName:"optimera"};r&&(o.device=r);var d={bidderTimeout:a,enableSendAllBids:!0,targetingControls:{alwaysIncludeDeals:!0},mediaTypePriceGranularity:{banner:n,"video-instream":{buckets:[{max:10,increment:.05},{max:20,increment:.25},{max:50,increment:.5},]}},pageUrl:document.location.href,userSync:{filterSettings:{iframe:{bidders:"*",filter:"include"},image:{bidders:"*",filter:"include"}},iframeEnabled:!0,userIds:[{name:"criteo"},{name:"id5Id",params:{partner:518},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}},{name:"identityLink",params:{pid:"13704"},storage:{type:"cookie",name:"idl_env",expires:15,refreshInSeconds:1800}},{name:"hadronId",storage:{name:"hadronId",type:"html5"},params:{partnerId:269}},{name:"amxId",storage:{type:"html5",name:"amxId",expires:1}},{name:"sharedId",params:{pixelUrl:"/cvx/client/sync/fpc"},storage:{type:"cookie",name:"_pubcid",expires:180}},{name:"lotamePanoramaId",params:{clientId:"17231"}}],syncDelay:5e3,syncEnabled:!0},usePrebidCache:!0,cache:{url:"https://prebid.adnxs.com/pbc/v1/cache",ignoreBidderCacheKey:!0},deviceAccess:!0,yahoossp:{mode:"all"},improvedigital:{usePrebidSizes:!0}};d.realTimeData={auctionDelay:100,dataProviders:[{name:"hadron",waitForIt:!0,params:{segmentCache:!1,partnerId:269}}]};var l=["thegamer.com","thethings.com","pocketnow.com","movieweb.com","collider.com","androidpolice.com","cbr.com","hotcars.com","moms.com","screenrant.com","gamerant.com"];for(var g in l)if(-1!==window.location.hostname.indexOf(l[g])){d.realTimeData.dataProviders.push({name:"optimeraRTD",waitForIt:!0,params:o});break}d.consentManagement={gdpr:{cmpApi:"iab",timeout:100,defaultGdprScope:!0},usp:{cmpApi:"iab",timeout:100}},window.adsNinjaHeaderBiddingManager.__prebidServerAliasData&&window.adsNinjaHeaderBiddingManager.__prebidServerAliasData.hasOwnProperty("aliases")&&Object.keys(window.adsNinjaHeaderBiddingManager.__prebidServerAliasData.aliases).length>0&&window.adsNinjaHeaderBiddingManager.__prebidServerAliasData.hasOwnProperty("bidders")&&window.adsNinjaHeaderBiddingManager.__prebidServerAliasData.bidders.length>0&&(d.s2sConfig=[{accountId:"1001",enabled:!0,bidders:window.adsNinjaHeaderBiddingManager.__prebidServerAliasData.bidders,timeout:s,adapter:"prebidServer",endpoint:{p1Consent:"https://pbs.adsninja.ca/openrtb2/auction",noP1Consent:"https://pbs.adsninja.ca/openrtb2/auction"},syncEndpoint:{p1Consent:"https://pbs.adsninja.ca/cookie_sync",noP1Consent:"https://pbs.adsninja.ca/cookie_sync"},extPrebid:{cache:{vastxml:{returnCreative:!1}},targeting:{pricegranularity:{ranges:e}},aliases:window.adsNinjaHeaderBiddingManager.__prebidServerAliasData.aliases}}]),window.pbjs.setConfig(d);var u={};for(var c in h)u[h[c].name]={storageAllowed:!0};Object.keys(u).length>0&&(window.pbjs.bidderSettings=u)}),this.registerEventHandlerBidWonPrebid()),e},__createAdUnitToAuctionPrebid:function(e,t,i=null){for(var n in e.names=e.pos.split(","),e.device=this.getDeviceType(),e.arrSizes=e.sizes.split(","),e.arrSizesIndexed=[],e.arrSizes){var a=e.arrSizes[n],s=a.split("x"),r=[parseInt(s[0]),parseInt(s[1])];e.arrSizes[n]=r,e.arrSizesIndexed[a]=r}var o={code:e.id,mediaTypes:{},bids:[],sizes:[],pubstack:{adUnitName:e.zoneName,adUnitPath:e.adUnitPath}};for(var d in t)for(var l=t[d],h=0;h<e.names.length;h++){var g=l.data.filter(function(t){return t.pos===e.names[h]},e);for(var u in g){if(g[u].mediaType,"display"===g[u].mediaType&&void 0===o.mediaTypes.banner)for(var c in o.mediaTypes.banner={sizes:e.arrSizes},e.arrSizes)!o.sizes.includes(e.arrSizes[c])&&o.sizes.push(e.arrSizes[c]);else this.PREBID_BID_CONTEXT_VALSTREAM_INSTREAM===i&&"videoInstream"===g[u].mediaType&&void 0===o.mediaTypes.video?(o.mediaTypes.video={api:[1,2],linearity:1,context:"instream",sizes:[[640,480]],playerSize:[640,480],mimes:["video/mp4","video/webm","video/ogg","application/javascript","video/x-matroska"],protocols:[1,2,3,4,5,6],playbackmethod:[2],skip:1,skipmin:5,maxDuration:30,minDuration:6,placement:1,pos:1,startdelay:0,skippable:!0,skipafter:5,maxduration:30,minduration:6},o.sizes.includes(e.arrSizesIndexed[g[u].size])||o.sizes.push(e.arrSizesIndexed[g[u].size])):this.PREBID_BID_CONTEXT_VALSTREAM_OUTSTREAM!==i||"videoOutstream"!==g[u].mediaType||void 0!==o.mediaTypes.video||(o.mediaTypes.video={api:[1,2],linearity:1,context:"outstream",sizes:[[640,480]],playerSize:[640,480],mimes:["video/mp4","video/webm","video/ogg","application/javascript","video/x-matroska"],protocols:[1,2,3,4,5,6],playbackmethod:[2],skip:1,skipmin:5,maxDuration:30,minDuration:6,placement:1,pos:1,useCacheKey:!0,renderer:{render:"",url:""},startdelay:0,skippable:!0,skipafter:5,maxduration:30,minduration:6},o.sizes.includes(e.arrSizesIndexed[g[u].size])||o.sizes.push(e.arrSizesIndexed[g[u].size]));"ix"==l.name&&(g[u].params.size=e.arrSizesIndexed[g[u].size]),"spotx"==l.name&&(g[u].params.outstream_options.slot=o.code),"oneVideo"==l.name&&"videoInstream"!==g[u].mediaType&&(g[u].params.site.page=window.location.href,g[u].params.site.referrer=document.referrer),i&&(this.PREBID_BID_CONTEXT_VALSTREAM_INSTREAM!==i||"videoInstream"!==g[u].mediaType)&&(this.PREBID_BID_CONTEXT_VALSTREAM_OUTSTREAM!==i||"videoOutstream"!==g[u].mediaType)||o.bids.push({bidder:l.name,params:g[u].params})}}return o},dynamicallyInjectAdZones:function(e){var t=[];for(elementId in e){var i=document.getElementById(elementId);if(!i){this.log(`Unable to find element on page for dynamic injection with ID: ${elementId}.`);continue}i.innerHTML=e[elementId],t.push(elementId)}return 0!==t.length?(this.log("Dynamically injected ad zones.",{elementIds:t}),!0):(this.log("No ad zones to dynamically inject.",{contentForAdZones:e}),!1)},setupDynamicallyInjectionRefreshAdZones:function(e,t){var i=this.__getGamAdSlotsForDynamicInjectionRefresh(e);if(!i||0===i.length||!t||0===Object.keys(t).length){this.log("There are no ad zones to setup dynamic injection refresh for.");return}for(x in i){var n=i[x],a=n.adElementId,s=document.getElementById(a);if(!s){this.log("Unable to setup dynamic injection refresh ad zone: adElement cannot be found.",{gamAdSlot:n});continue}var r=document.getElementById(`ad-zone-container-${a}`);if(!r){this.log("Unable to setup dynamic injection refresh ad zone: adZoneContainerElement cannot be found.",{gamAdSlot:n});continue}var o=s.closest(".dynamically-injected-refresh-ad-zone");if(!o){this.log("Unable to setup dynamic injection refresh ad zone: refreshContainerElement cannot be found.",{gamAdSlot:n});continue}if(o.getAttribute("data-original-ad-element-id")){this.log("Already setup dynamic injection refresh ad zone.",{gamAdSlot:n});continue}var d=o.id,l=n.dynamicInjectionRefresh.pixelDistance||null,h=n.dynamicInjectionRefresh.minimumTimeBuffer||null,g=n.dynamicInjectionRefresh.timer||null,u=n.dynamicInjectionRefresh.preFetch||!1,c=n.dynamicInjectionRefresh.inview||!1,f=n.dynamicInjectionRefresh.pixelTrigger||!1;o.setAttribute("data-original-ad-element-id",a),o.setAttribute("data-current-ad-element-id",a),o.setAttribute("data-refresh-count",0),o.setAttribute("data-floating-allowed","true"),o.setAttribute("data-refreshing-allowed","true");var p=r.offsetHeight,m=r.currentStyle||window.getComputedStyle(r),A=parseFloat(m.marginTop)||0,v=parseFloat(m.marginBottom)||0;p+=A+v;var y=r.closest(".isConnectedBelowAd");(y||o).style.minHeight=y?"0px":`${p}px`;var I=a.split("-REPEAT")[0];this.initAdZoneEventsLogEntryIfNeeded(a),this.__createAdsNinjaRefreshingAdZone(a,d,t[I],u,n.zoneName,n.zoneGroupName||null,h,g,l,f,c,!0),l&&(this.pixelRefreshers[a]=new window.AdsNinjaAdsPixelRefresher(a,d,l,this.getDocumentHeight()))}},handleAdZoneForceEvents:function(e){this.initAdZoneEventsLogEntryIfNeeded(e),this.adZoneEventsLog[e].forcedEvents=!0,this.handleAdZoneLoadedEvent(e),this.handleAdZoneViewedEvent(e)},handleAdZoneRenderEndedEvent:function(e){if(!e){this.log("Unable to handle ad zone render ended event: event is empty.");return}var t=e.slot.getSlotElementId(),i=!e.isEmpty;if(!i){this.log("GPT Event: slotRenderEnded.",{slotElementId:t,slotAdUnitPath:e.slot.getAdUnitPath(),slotContainsAd:i}),this.handleNoFillOrError(t);return}if(e.hasOwnProperty("size")&&e.size&&Array.isArray(e.size)&&2===e.size.length&&600===e.size[1]){var n=`ad-zone-container-${t}`,a=document.getElementById(n);if(!a){this.log("Unable to handle ad zone render ended event: container element does not exist!",{adElementId:t,adZoneContainerElementId:n});return}a.classList.add("adsninja-interscroller-animation-allowed")}},handleAdZoneLoadedEvent:function(e){this.initAdZoneEventsLogEntryIfNeeded(e),this.adZoneEventsLog[e].isLoaded=!0;var t=`ad-zone-container-${e}`,i=document.getElementById(t);if(i){i.classList.add("ad-loaded");var n=i.getElementsByClassName("close-ad-zone")[0];n&&n.classList.add("adsninja-close-button-ad-zone-visible")}else this.log(`Unable to find ad zone container: ${t}.`),this.__handleFloatingTopMiddle(e,!1)},handleAdZoneViewedEvent:function(e){this.initAdZoneEventsLogEntryIfNeeded(e);var t=this.refreshingAdZones[e]||null;this.adZoneEventsLog[e].isViewed||(this.log("Ad Zone Event: viewed.",{adElementId:e,isRefresh:!!(t&&t.isAllowedToPrefetch()),isRefreshable:!!t}),this.adZoneEventsLog[e].isViewed=!0),this.floatingAdZones.hasOwnProperty(e)&&this.toggleFloatingAdZone(e,!1,!0),this.__recalculateRailAdZones(),t&&this.__setupNextAd(e,t,!0)},handleAdZoneMinimumTimerCompleteEvent:function(e,t={}){this.initAdZoneEventsLogEntryIfNeeded(e),this.adZoneEventsLog[e].isMinimumTimerComplete=!0,this.log("Ad Zone Event: minimumTimerComplete.",Object.assign({adElementId:e},t))},handleAdZoneTimerCompleteEvent:function(e,t={}){this.initAdZoneEventsLogEntryIfNeeded(e),this.adZoneEventsLog[e].isTimerComplete=!0,this.log("Ad Zone Event: timerComplete.",Object.assign({adElementId:e},t));var i=this.refreshingAdZones[e];if(!(!i||!i.hasTimerRefresh()||i.getHasTransitionStarted())&&i.isAllowedToRefresh()){var n=`scrollEventListener_${e}`,a=!1,s=`ad-zone-container-${e}`;i.getPixelTrigger()?(a=window.adsNinjaHeaderBiddingManager.refreshAdElement(e,"autoRefresh"))||window.adsNinjaHeaderBiddingManager.createInviewWaypointForAutoRefresh(e,s):(window[n]=this.__eventHelper.throttle(function(t){window.adsNinjaHeaderBiddingManager.refreshAdElement(e,"scroll")&&document.removeEventListener("scroll",window[n],!!window.adsNinjaHeaderBiddingManager.arePassiveEventListenersSupported()&&{passive:!0})},1e3),document.addEventListener("scroll",window[n],!!this.arePassiveEventListenersSupported()&&{passive:!0}))}},initAdZoneEventsLogEntryIfNeeded:function(e){this.adZoneEventsLog[e]||(this.adZoneEventsLog[e]={isLoaded:!1,isViewed:!1,haveTimersStarted:!1,isTimerComplete:!1,isMinimumTimerComplete:!1,forcedEvents:!1,currentFloatingStatus:"disengaged"})},handleNoFillOrError:function(e){var t=`ad-zone-container-${e}`,i=document.getElementById(t);if(!i){console.debug("%cAds Debug Log","display: inline-block; color: #fff; background: blue; padding: 1px 4px; border-radius: 3px;",`Unable to find ad zone container: ${t}.`);return}i.getAttribute("data-no-fill-collapsable")&&i.getAttribute("data-no-fill-collapsable"),i.classList.add("no-fill");var n=i.getElementsByClassName("ad-zone")[0];n&&n.classList.contains("ad-zone-floating")&&(i.style.display="none"),this.__handleFloatingTopMiddle(e,!1),this.log(`No fill or ad error handled for ad zone container: ${t}.`),this.refreshingAdZones[e]&&setTimeout(function(){window.adsNinjaHeaderBiddingManager.log(`Forcing loaded and viewed ad zone events for auction: ${e}.`),window.adsNinjaHeaderBiddingManager.handleAdZoneForceEvents(e)},1e3)},__isValidWidthHeightOrOffset:e=>!!e&&(-1!==e.indexOf("px")||-1!==e.indexOf("em")||-1!==e.indexOf("%")||-1!==e.indexOf("auto")),__validateDimensions(e){for(x in e)if(!this.__isValidWidthHeightOrOffset(e[x]))return!1;return!0},setupFloatingAdZones:function(e,t=!0){if(!e||0===e.length){this.log("No ad zone to setup floating for.");return}var i=e.filter(function(e){return e.floating&&"object"==typeof e.floating&&Object.keys(e.floating).length>0});if(!i){this.log("No ad zone to setup floating for.");return}for(x in i){var n=i[x],a=n.adElementId,s=n.floating;if(this.floatingAdZones.hasOwnProperty(a)){this.log("Unable to setup floating for ad zone: floating has already been setup for this ad zone!",{adElementId:a});continue}var r=window.adsNinjaHeaderBiddingManager.refreshingAdZones[a];if(r&&!r.isAllowedToFLoat()){this.log("Unable to setup floating for ad zone: refreshing ad zone has been previously closed, floating not allowed!",{adElementId:a,adZoneContainerElementId:o});continue}var o=`ad-zone-container-${a}`,d=document.getElementById(o);if(!d){this.log("Unable to setup floating for ad zone: container element does not exist!",{adElementId:a,adZoneContainerElementId:o});continue}var l=d.getElementsByClassName("ad-zone")[0];if(!l){this.log("Unable to setup floating for ad zone: element does not exist for container!",{adElementId:a,adZoneContainerElementId:o});continue}var h=n.height||s.heightRegular,g=n.width||s.widthRegular,u=s.heightFloating,c=s.widthFloating,f=s.floatingMode,p=s.floatingOffset||0,m=s.position,A=s.useCloseButton,v=s.floatUntilViewed||!1,y=s.floatUntilViewedDelay||0;if(this.initAdZoneEventsLogEntryIfNeeded(a),!v||!this.adZoneEventsLog[a].isViewed){if(n.height&&n.width){if(u=s.heightFloating?`${s.heightFloating}${s.heightFloatingPostfix}`:n.height,c=s.widthFloating?`${s.widthFloating}${s.widthFloatingPostfix}`:n.width,(s.floatingOffset||0===s.floatingOffset)&&"%"===s.floatingOffsetPostfix){if(p=`${s.floatingOffset}${s.floatingOffsetPostfix}`,!this.__isValidWidthHeightOrOffset(p)){this.log("Unable to setup floating for ad zone: validation failed!",{adElementId:a,data:{floatingOffset:p}});continue}}else if((s.floatingOffset||0===s.floatingOffset)&&"%"!==s.floatingOffsetPostfix&&isNaN(p=parseFloat(s.floatingOffset))){this.log("Unable to setup floating for ad zone: validation failed!",{adElementId:a,data:{floatingOffset:p}});continue}}"string"==typeof p&&p.includes("px")&&(p=parseFloat(p.replace("px","")));var I={heightRegular:h,widthRegular:g,heightFloating:u,widthFloating:c};if(!this.__validateDimensions(I)){this.log("Unable to setup floating for ad zone: validation failed!",{adElementId:a,data:I});continue}if(!f||!m){this.log("Unable to setup floating for ad zone: validation failed!",{adElementId:a,floatingType:f,position:m});continue}switch(l.setAttribute("data-height-regular",h),l.setAttribute("data-width-regular",g),l.setAttribute("data-height-floating",u),l.setAttribute("data-width-floating",c),l.setAttribute("data-floating-mode",f),l.setAttribute("data-waypoint-offset",p),l.setAttribute("data-position",m),l.setAttribute("data-use-close-button",A),l.setAttribute("data-float-until-viewed",v),l.setAttribute("data-float-until-viewed-delay",y),f){case"always":this.handleAlwaysFloatingAdZone(a,p,"adsninja-body-anchor",m);break;case"outOfView":this.handleFloatingAdZone(a,p,o);break;default:this.log("Unable to setup floating for ad zone: unknown floating mode!",{adElementId:a,floatingType:f})}}}},handleAlwaysFloatingAdZone:function(e,t,i,n){var a=`adsninja-ad-zone-${e.split("-count-")[0]}`,s=document.getElementById(a);if(!s){this.log("Unable to setup floating for ad zone: root container element does not exist!",{adElementId:e,adZoneRootContainerElementId:a});return}var r=["pocket-lint.com","thetalko.com","therichest.com","therecipe.com",];for(var o in r)if(-1!==window.location.hostname.indexOf(r[o])){s.style="height: 0; overflow: hidden; border: none;";break}if(0===t){window.adsNinjaHeaderBiddingManager.toggleFloatingAdZone(e,!0);return}var d=`addFloatingScrollEventListener_${e}`;window[d]=function(n){window.adsNinjaHeaderBiddingManager.floatingAdZones.hasOwnProperty(e)||(window.adsNinjaHeaderBiddingManager.floatingAdZones[e]=[]);var a=new Waypoint({element:document.getElementById(i),handler:function(t){window.adsNinjaHeaderBiddingManager.toggleFloatingAdZone(e,!0)},offset:-1*t});window.adsNinjaHeaderBiddingManager.floatingAdZones[e].push(a),document.removeEventListener("scroll",window[d],!!window.adsNinjaHeaderBiddingManager.arePassiveEventListenersSupported()&&{passive:!0})},document.addEventListener("scroll",window[d],!!this.arePassiveEventListenersSupported()&&{passive:!0})},handleFloatingAdZone:function(e,t,i){var n=`addFloatingScrollEventListener_${e}`;window[n]=function(a){0!==t?window.adsNinjaHeaderBiddingManager.createInviewWaypointForFloatingWithOffset(e,t,i):window.adsNinjaHeaderBiddingManager.createInviewWaypointForFloating(e,t,i),document.removeEventListener("scroll",window[n],!!window.adsNinjaHeaderBiddingManager.arePassiveEventListenersSupported()&&{passive:!0})},document.addEventListener("scroll",window[n],!!this.arePassiveEventListenersSupported()&&{passive:!0})},createInviewWaypointForFloating(e,t,i){this.floatingAdZones.hasOwnProperty(e)||(this.floatingAdZones[e]=[]);var n=new Waypoint.Inview({element:document.getElementById(i),enter:function(t){window.adsNinjaHeaderBiddingManager.toggleFloatingAdZone(e,!1)},entered:function(t){window.adsNinjaHeaderBiddingManager.toggleFloatingAdZone(e,!1)},exit:function(t){window.adsNinjaHeaderBiddingManager.toggleFloatingAdZone(e,!0)},exited:function(t){window.adsNinjaHeaderBiddingManager.toggleFloatingAdZone(e,!0)},offset:t});this.floatingAdZones[e].push(n)},createInviewWaypointForAutoRefresh(e,t){this.autoRefreshAdZones.hasOwnProperty(e)||(this.autoRefreshAdZones[e]=[]);var i=new Waypoint.Inview({element:document.getElementById(t),enter:function(t){window.adsNinjaHeaderBiddingManager.refreshAdElement(e,"waypoint")},entered:function(t){window.adsNinjaHeaderBiddingManager.refreshAdElement(e,"waypoint")},exit:function(t){window.adsNinjaHeaderBiddingManager.refreshAdElement(e,"waypoint")}});this.autoRefreshAdZones[e].push(i)},toggleFloatingAdZone:function(e,t,i=!1){var n=`ad-zone-container-${e}`,a=document.getElementById(n);if(!a){this.log("Unable to toggle floating for ad zone: container element does not exist!",{adElementId:e,adZoneContainerElementId:n});return}var s=`ad-zone-size-container-${e}`,r=document.getElementById(s);if(!r){this.log("Unable to toggle floating for ad zone: size container element does not exist!",{adElementId:e,adZoneSizeContainerElementId:s});return}var o=a.getElementsByClassName("ad-zone")[0];if(!o){this.log("Unable to toggle floating for ad zone: element does not exist in container!",{adElementId:e,adZoneContainerElementId:n});return}var d=o.getElementsByClassName("ad-zone-inline")[0];if(!d){this.log("Unable to toggle floating for ad zone: inline element does not exist in element!",{adElementId:e,adZoneContainerElementId:n});return}var l=o.getAttribute("data-height-regular"),h=o.getAttribute("data-width-regular"),g=o.getAttribute("data-height-floating"),u=o.getAttribute("data-width-floating"),c=o.getAttribute("data-position"),f=o.getAttribute("data-use-close-button"),p=o.getAttribute("data-floating-mode"),m=o.getAttribute("data-float-until-viewed"),A=o.getAttribute("data-float-until-viewed-delay"),v=o.getAttribute("data-float-until-viewed-delay-transitioning");if(o.classList.contains("ad-zone-floating")&&t||!o.classList.contains("ad-zone-floating")&&!t){this.log("Correct floating status already applied.",{adElementId:e,adZoneContainerElementId:n,status:o.classList.contains("ad-zone-floating")?"engaged":"disengaged"});return}if(!i||"true"===m){if(i&&"true"===m){if(A&&"0"!==A&&"true"!==v){o.setAttribute("data-float-until-viewed-delay-transitioning","true");var y=1;-1!==c.indexOf("top")&&(y=-1);var I=parseInt(A)-1e3;o.style.transform="translateY(0px)",o.style.transition=`transform 1000ms ${I}ms ease`,o.style.transform=`translateY(${parseInt(g)*y}px)`,setTimeout(function(){o.setAttribute("data-float-until-viewed-delay-transintioning","false"),window.adsNinjaHeaderBiddingManager.toggleFloatingAdZone(e,!1),o.style.transition="",o.style.transform="",window.adsNinjaHeaderBiddingManager.log("Floating ad has been viewed and can no longer float.",{adElementId:e}),window.adsNinjaHeaderBiddingManager.__deleteFloatingAdWaypoints(e)},parseInt(A));return}if("true"===v)return}else if("true"===m&&this.adZoneEventsLog[e].isViewed&&t)return;if(!l||!h||!g||!u||!c||!p){window.adsNinjaHeaderBiddingManager.log("Unable to toggle floating on ad zone: invalid value!",{adElementId:e,heightRegular:l,widthRegular:h,heightFloating:g,widthFloating:u,positionFloating:c,floatingType:p});return}var E=null,b=this.checkAdCapabilityByAdElementId(this.AD_CAPABILITY_VIDEO_INSTREAM_VALSTREAM,e),D=window.adsNinjaHeaderBiddingManager.getAdsData(e).getFloatingPriority();if(o.classList.contains("ad-zone-floating")){if(o.classList.remove("ad-zone-floating"),o.classList.remove(`ad-zone-floating-position-${c}`),d.children[0].style.display="inherit;",d.style="",r.style="",a.style="",o.style="text-align: center;",o.style.minHeight=l,o.style.width=h,b)try{this.handleFloatingDisengagedValstream(e,"auto"===l?"inherit":l,"auto"===h?"inherit":h)}catch(T){this.log("Unable to handle Valstream floating disengaged.",{error:T})}var N=`close-ad-zone-${e}`;o.contains(document.getElementById(N))&&document.getElementById(N).remove(),E="disengaged"}else{if(o.classList.add("ad-zone-floating"),o.classList.add(`ad-zone-floating-position-${c}`),!a.classList.contains("no-fill")){if(d.children[0].style.display="inline-block;",d.style="",d.style="position: relative; display: inline-block;",o.style="",o.style="text-align: center; margin: 0; padding: 0; position: fixed; display: flex; align-items: flex-end;",o.style.zIndex=D,o.style.minHeight=g,o.style.width=u,r.style.minHeight=l,r.style.width=h,b)try{this.handleFloatingEngagedValstream(e,g,u)}catch(B){window.adsNinjaHeaderBiddingManager.log("Unable to handle Valstream floating engaged.",{error:B})}var R="&#x2715",S=`width: 16px; height: 16px; font-family: arial,helvetica,clean,sans-serif; font-size: 11px; color: white; font-weight: 700; text-transform: uppercase; z-index: ${D}; position: absolute; top: 0; right: -16px; background: none; background-color: dimgrey; padding: 2px; outline: none; border: none; border-radius: 0; cursor: pointer; margin: 0; text-align: center; line-height: normal;`;switch(c){case"bottom-right":"mobile"===window.adsNinjaHeaderBiddingManager.getDeviceType()?(o.style.right="0",o.style.bottom="80px",S=`width: 16px; height: 16px; font-family: arial,helvetica,clean,sans-serif; font-size: 11px; color: white; font-weight: 700; text-transform: uppercase; z-index: ${D}; position: absolute; top: -16px; right: 0; background: none; background-color: dimgrey; padding: 2px; outline: none; border: none; border-radius: 0; cursor: pointer; margin: 0; text-align: center; line-height: normal;`):(o.style.right="0",o.style.bottom="0",R="CLOSE &#x2715",S=`height: 16px; font-family: arial,helvetica,clean,sans-serif; font-size: 11px; color: white; font-weight: 700; text-transform: uppercase; z-index: ${D}; position: absolute; top: -20px; right: 0; background: none; background-color: dimgrey; padding: 2px; outline: none; border: none; border-radius: 0; cursor: pointer; margin: 0; text-align: center; line-height: normal;`,o.style.backgroundColor="dimgrey",o.style.minHeight=`${parseInt(g)+24}px`);break;case"bottom-middle":o.style.width="100%",o.style.bottom="0",o.style.left="0";break;case"top-middle":o.style.width="100%",o.style.top="0",o.style.left="0","mobile"===window.adsNinjaHeaderBiddingManager.getDeviceType()&&(o.style.padding=".25rem 0")}if("false"!==f){var N=`close-ad-zone-${e}`,$=document.createElement("button");$.className="adsninja-close-button-ad-zone close-ad-zone",$.id=N,$.style=S,$.innerHTML=R,(a.classList.contains("ad-loaded")||this.__isUsingFakeAds()||b)&&$.classList.add("adsninja-close-button-ad-zone-visible"),$.addEventListener("click",function(){o.classList.remove("ad-zone-floating"),o.classList.remove(`ad-zone-floating-position-${c}`),window.adsNinjaHeaderBiddingManager.__deleteFloatingAdWaypoints(e),d.children[0].style.display="inherit",d.style="",r.style="",o.style="text-align: center;",o.style.minHeight=l,o.style.width=h,document.getElementById(N).remove();var t=window.adsNinjaHeaderBiddingManager.refreshingAdZones[e];if(t){if(t.setNoFloatingAllowed(),t.setNoRefreshingAllowed(),"always"===p){t.disablePixelRefresher(),t.removeScrollTimerRefresher();var i=window.adsNinjaHeaderBiddingManager.getAdsData(e);if(i&&i.canNotUseSpace()){var a=t.removeGptReference();window.adsNinjaHeaderBiddingManager.log("Destroyed ad slot.",{didDestroy:a,adElementId:t.getCurrentAdElementId()}),t.removeRefreshContainerElementAds()}}window.adsNinjaHeaderBiddingManager.log("User closed floating ad zone.",{adElementId:e,adZoneContainerElementId:n,floatingType:p,dynamicInjectionRefreshAdZoneContainerElementId:t.getRefreshContainerElementId()})}else window.adsNinjaHeaderBiddingManager.log("User closed floating ad zone.",{adElementId:e,adZoneContainerElementId:n,floatingType:p});if(b)try{window.adsNinjaHeaderBiddingManager.handleFloatingDisallowedValstream(e)}catch(s){window.adsNinjaHeaderBiddingManager.log("Unable to handle Valstream floating disallowed.",{error:s})}},!!this.arePassiveEventListenersSupported()&&{passive:!0}),d.appendChild($)}}E="engaged"}window.adsNinjaHeaderBiddingManager.log(`Floating ${E} for ad zone in container: ${n}.`),window.adsNinjaHeaderBiddingManager.adZoneEventsLog[e].currentFloatingStatus=E,"engaged"===E&&this.__handleFloatingTopMiddle(e,!0)}},setupCmp:function(e){if(!this.doesAuctionExist(e))throw Error(`There is no auction registered with the ID: ${e}.`);this.__consentNeeded=!0,window.admiral=window.admiral||function(){(admiral.q=admiral.q||[]).push(arguments)};var t=function(t){window.adsNinjaHeaderBiddingManager&&(window.adsNinjaHeaderBiddingManager.log("CMP loaded or updated!",{data:t}),t.consentKnown&&(window.adsNinjaHeaderBiddingManager.consentKnown=!0,window.adsNinjaHeaderBiddingManager.log(`Consent is known, requesting bids for auction: ${e}!`,{data:t}),window.adsNinjaHeaderBiddingManager.requestHeaderBids(e)))};window.admiral("after","cmp.loaded",t),window.admiral("after","cmp.updated",t),this.log("Delaying header bidding requests so that the CMP tool may load first.")},__getGamAdSlotsForDynamicInjectionRefresh:function(e){return(e=Object.values(e)).filter(function(e){return e.dynamicInjectionRefresh&&"object"==typeof e.dynamicInjectionRefresh&&Object.keys(e.dynamicInjectionRefresh).length>0})},getAdSetupKey:function(){return this.__logData.chosenAdSetupKey||""},getClientData:function(){return this.__logData.clientData||{}},getWinningAdUnitIds:function(){return this.__logData.winningAdUnitIds||""},getBrandName:function(){return this.__logData.clientData.brandName||""},getContentType:function(){return this.__logData.clientData.contentType||""},getNetworkCategory:function(){return this.__logData.clientData.networkCategory||""},getTemplate:function(){return this.__logData.clientData.template||""},getSiteCategory:function(){return this.__logData.clientData.extraParams.siteCategory||""},getPostId:function(){return this.__logData.clientData.extraParams.postId||""},getEventRecordingLogData:function(){return{chosenAdSetup:this.__logData.chosenAdSetup,clientData:this.__logData.clientData}},setupDynamicInjectionRepeatableAds:function(e,t,i,n){if(this.log("Preparing dynamic injection repeatable ads.",{headers:e,pageNumber:t,ads:i}),!this.__isUsingFakeAds()){for(var a in e){if(-1===e[a].header.indexOf("googletag.defineSlot")){this.log("A dynamic injection repeatable ad is in an unsupported format.",e[a]);continue}window.Function(this.__stripScriptTags(e[a].header))()}var s=[];for(var a in i){var r=i[a],o=this.__createAndAddNewAdData(r);s.push(o)}var d=this.setupAjaxAuction(s,this.prebidAdUnitBidderConfigs);return this.requestHeaderBids(d.getId()),this.startFailSafeTimeout(d.getId()),this.setupFloatingAdZones(d.getGamAdSlots()),this.setupDynamicallyInjectionRefreshAdZones(d.getGamAdSlots(),n),s}},__filterGamAdSlotsByAdElementId:function(e,t){return(e=Object.values(e)).filter(function(e){return -1!==e.adElementId.indexOf(`-PAGE${t}`)})},__createAdsNinjaRefreshingAdZone(e,t,i,n,a,s,r,o,d,l,h,g){this.refreshingAdZones[e]=new window.AdsNinjaRefreshingAdZone(e,t,i,n,a,s,r,o,d,l,h,this.logger);var u=this.__constructAdZoneMappingKey(a,s),c="next";return g&&(c="current",this.__adZoneMapping[u]={}),this.__adZoneMapping[u][c]=e,this.refreshingAdZones[e]},__constructAdZoneMappingKey(e,t){var i="";return t&&(i+=`${t}_`),i+=`${e}`},refreshAdZone(e,t=null){var i=this.__constructAdZoneMappingKey(e,t);if(!this.__adZoneMapping[i]||!this.__adZoneMapping[i].current)return!1;var n=this.__adZoneMapping[i].current;this.initAdZoneEventsLogEntryIfNeeded(n);var a=this.refreshAdElement(n,"custom");return a&&this.__adZoneMapping[i]&&(this.__adZoneMapping[i].current=this.__adZoneMapping[i].next,this.__adZoneMapping[i].next=""),a},refreshAdElement(e,t){var i=e,n=window.adsNinjaHeaderBiddingManager.refreshingAdZones[i];if(!n)throw Error(`Attempting to refresh ad. There is no refreshing ad zone with ad element ID: ${i}.`);if(this.__setupNextAd(i,n,!1),!n.isReadyForRefresh(t))return!1;var a=n.getNextAdElementId();if(!a)return this.logger.debug(`Attempting to refresh ad. Next ad is not setup for element: ${i}.`),!1;if(!window.adsNinjaHeaderBiddingManager.doesAuctionExist(a))return this.logger.warn(`Attempting to refresh ad. There is no auction registered with the ID: ${a}.`),!1;if(n.setHasTransitionStarted(!0),window.adsNinjaHeaderBiddingManager.log(`Refresh initiated by ${t} action for element: ${i}.`),window.adsNinjaHeaderBiddingManager.__deleteFloatingAdWaypoints(i),window.adsNinjaHeaderBiddingManager.autoRefreshAdZones.hasOwnProperty(i))for(var s in window.adsNinjaHeaderBiddingManager.autoRefreshAdZones[i])window.adsNinjaHeaderBiddingManager.autoRefreshAdZones[i][s].destroy();return window[`scrollEventListener_${i}`]&&document.removeEventListener("scroll",window[`scrollEventListener_${i}`],!!this.arePassiveEventListenersSupported()&&{passive:!0}),n.changeShownAdInContainer(),window.adsNinjaHeaderBiddingManager.sendAdServerRequest(a),window.adsNinjaHeaderBiddingManager.setupFloatingAdZones(window.adsNinjaHeaderBiddingManager.auctions[a].getGamAdSlots(),n.isInView()),!0},__setupNextAd:function(e,t,i){if(!t||"object"!=typeof t||0==Object.keys(t).length){this.log("Parameter must be a non-falsy object with one or more keys.",{refreshingAdZone:t});return}if(!e){this.log("Parameter must be a non-falsy string.",{adElementId:e});return}if(t.haveTimersStarted())this.log("Timer already started for refreshing ad zone.",t);else{this.initAdZoneEventsLogEntryIfNeeded(e);var n=t.getMinimumTimeBuffer();n&&setTimeout(function(){window.adsNinjaHeaderBiddingManager.handleAdZoneMinimumTimerCompleteEvent(e)},n=1e3*Number(n));var a=t.getTimeBuffer();a&&setTimeout(function(){window.adsNinjaHeaderBiddingManager.handleAdZoneTimerCompleteEvent(e)},a=1e3*Number(a)),this.adZoneEventsLog[e].haveTimersStarted=!0}if(t.isAllowedToPrefetch()!==i){i&&this.log("Not allowed to prefetch next ad for refreshing ad zone.",t);return}var s=t.getRefreshContainerElement();if(!s){this.log("Unable to find dynamic injection refreshing ad zone container.",t);return}if(t.isNextAdSetup()){this.log("Already setup for next ad for refreshing ad zone.",t);return}var r=this.getAdsData(e);if(this.__isUserConsideredInactiveForAd(r)){this.logger.debug("Unable to setup refresh auction for ad. User is considered inactive.",{adElementId:e});return}t.setIsNextAdSetup(!0);var o=t.createNextAdElementId();if(!o){this.logger.error("Unable to setup next ad: cannot create next ad element ID.");return}var d=this.__createAdsNinjaRefreshingAdZone(o,t.getRefreshContainerElementId(),t.getData(),t.isAllowedToPrefetch(),t.getZoneName(),t.getZoneGroupName(),t.getMinimumTimeBuffer(),t.getTimeBuffer(),t.getPixelDistance(),t.getPixelTrigger(),t.getInview(),!1);s.insertAdjacentHTML("beforeend",d.getRefreshContent());var l=d.getRefreshHeader(),h=null;try{h=this.copyAndAddNewAdDataFromExisting(e,o)}catch(g){this.log("Unable to setup next ad: error thrown.",{error:g});return}var u=h;if(window.Function(this.__stripScriptTags(l))(),o!==u.adElementId){this.log("Unable to find gamAdSlot for dynamic injection refreshing ad zone container.",{adElementId:o});return}var c=this.setupRefreshAuction(u,this.prebidAdUnitBidderConfigs);if(!c){this.logger.debug("No refresh auction to be held!");return}this.requestHeaderBids(c.getId())},__injectAnchor:function(){var e=document.createElement("div");e.setAttribute("id","adsninja-body-anchor"),document.body.prepend(e)},__stripScriptTags:function(e){return e.replace("<script>","").replace("</script>","")},arePassiveEventListenersSupported:function(){return this.__eventHelper.arePassiveEventListenersSupported()},updatePixelRefreshers:function(){var e=this.getDocumentHeight();if(e<=this.__previousDocumentHeight){this.log("No need to update pixel refreshers.");return}for(var t in this.__previousDocumentHeight=e,this.log("Updating pixel refreshers."),this.pixelRefreshers)this.pixelRefreshers[t].update(e)},getDocumentHeight:()=>Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight),run:function(e,t,i){if(this.setData(e),!this.__initialized){if(this.init(e.prebidTimeout,e.amazonTimeout,e.failSafeTimeout,e.cmpTimeout,e.isEuTraffic,e.logData,e.adsData),void 0===window.googletag||!window.googletag.hasOwnProperty("cmd")){this.__logger.error("Bidding manager: googletag is not defined!");return}var n=this;window.googletag.cmd.push(function(){"function"==typeof t&&t();var a=n.setup(n.getAllAdsData(),n.prebidAdUnitBidderConfigs,!0);n.setupDynamicallyInjectionRefreshAdZones(a.getGamAdSlots(),e.dynamicInjectionRefreshAdZones),a.isEuTraffic()?n.setupCmp(a.getId()):n.requestHeaderBids(a.getId()),n.startFailSafeTimeout(a.getId()),n.setupFloatingAdZones(a.getGamAdSlots()),"function"==typeof n.setupRailAdZones&&n.setupRailAdZones(e.railAds),"function"==typeof i&&i()})}},runForExtendedSection:function(e){if(this.__logExtendedSectionData(e),this.logger.debug("Running extended section.",{data:e}),this.__setEventTrackingDictionary(e.eventTrackingDictionary),this.setAdCountData(e.adCountData),this.setupDynamicInjectionRepeatableAds(e.adHeaders,this.__adCountData.pageNumber,e.ads,e.adRefreshData),this.updatePixelRefreshers(),this.setupRailAdZones(e.railAds),e.hasOwnProperty("jsToRun")&&e.jsToRun.length>0)for(var t in e.jsToRun)window.Function(this.__stripScriptTags(e.jsToRun[t]))();"function"==typeof this.__configureNewVideoPlayers&&this.__configureNewVideoPlayers()},__isUsingFakeAds(){return 3===this.__modeAds},createInviewWaypointForFloatingWithOffset(e,t,i){this.hasOwnProperty(e)||(this.floatingAdZones[e]=[]);var n=document.getElementById(i),a=new window.Waypoint({element:n,handler:function(t){switch(t){case"up":window.adsNinjaHeaderBiddingManager.toggleFloatingAdZone(e,!0);break;case"down":window.adsNinjaHeaderBiddingManager.toggleFloatingAdZone(e,!1)}},offset:function(){return(window.innerHeight+t)*1}});this.floatingAdZones[e].push(a);var s=new window.Waypoint({element:n,handler:function(t){switch(t){case"up":window.adsNinjaHeaderBiddingManager.toggleFloatingAdZone(e,!1);break;case"down":window.adsNinjaHeaderBiddingManager.toggleFloatingAdZone(e,!0)}},offset:function(){return-((n.clientHeight+t)*1)}});this.floatingAdZones[e].push(s)},__deleteFloatingAdWaypoints:function(e){if(window.adsNinjaHeaderBiddingManager.floatingAdZones.hasOwnProperty(e)){for(var t in window.adsNinjaHeaderBiddingManager.floatingAdZones[e])window.adsNinjaHeaderBiddingManager.floatingAdZones[e][t].destroy();delete window.adsNinjaHeaderBiddingManager.floatingAdZones[e]}},setAdCountData:function(e){this.__adCountData=e},__setEventTrackingDictionary:function(e){if(e&&"object"==typeof e&&0!==Object.keys(e).length){if(0===Object.keys(this.__eventTrackingDictionary).length)this.__eventTrackingDictionary=e;else for(var t in e)this.__eventTrackingDictionary[t]=e[t]}},getExtendedSectionAdRequestData:function(e=!0){var t=this.getAdSetupKey(),i=this.getWinningAdUnitIds();if(!t||!i)return null;e&&this.__adCountData.hasOwnProperty("articleNumber")&&(this.__adCountData.articleNumber+=1,this.__adCountData.adPosition=0,this.__adCountData.nbrPlacementsScanned=0,this.__adCountData.nbrPlacementFilledEachSkip=0,this.__adCountData.actualCount=0),this.__adCountData.pageNumber+=1;var n=this.getClientData();return{adSetupKey:t,adUnitIds:i,contentType:n.contentType,networkCategory:n.networkCategory,template:n.template,siteCategory:n.siteCategory,adCountData:this.__adCountData}},__logExtendedSectionData:function(e){this.__extendedSectionDataLog.push(e)},setupRailAdZones:function(e){var t=0;for(var i in this.__adsData)"Infinite Scroll Rail"===this.__adsData[i].zoneName&&(t=this.__adsData[i].height);this.railAdZones&&0!==Object.keys(this.railAdZones).length&&this.__recalculateRailAdZones();var n=null,a=null;for(var s in e){var r=e[s].railElementId,o=e[s].originalAdElementId,d=e[s].railSettings;a=(n=new window.AdsNinjaRailAdZone(r,o,d,t)).setup(),this.railAdZones[r]=n}this.__previousDocumentHeightRailAdZones=this.__getDocumentHeight()},__recalculateRailAdZones:function(){var e=this.__getDocumentHeight();if(!(this.__previousDocumentHeightRailAdZones>=e)){for(var t in this.railAdZones)this.railAdZones[t].recalculate();this.__previousDocumentHeightRailAdZones=this.__getDocumentHeight()}},__getDocumentHeight:function(){return Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)},setData:function(e){this.__prebidServerAliasData=e.prebidServerAliasData,this.__adCapabilities=e.adCapabilities,this.__videoList=e.videoList,this.prebidAdUnitBidderConfigs=e.adUnitBidderConfigs||window.adUnitBidderConfigs,window.adUnitBidderConfigs=this.prebidAdUnitBidderConfigs,this.sspsThatCouldHaveOwnCloseButton=e.sspsThatCouldHaveOwnCloseButton||{},this.setModeAds(e.modeAds),this.setDeviceType(e.deviceType),this.setAdCountData(e.adCountData),this.__setEventTrackingDictionary(e.eventTrackingDictionary)},setAdditionalData:function(e){this.setData(e)},__checkAdCapabilityByAdZoneName:function(e,t){return!!e&&!!t&&this.__adCapabilities.byAdZoneName.hasOwnProperty(t)&&this.__adCapabilities.byAdZoneName[t].hasOwnProperty(e)},checkAdCapabilityByAdElementId:function(e,t){return!!e&&!!t&&this.__adCapabilities.byAdElementId.hasOwnProperty(t)&&this.__adCapabilities.byAdElementId[t].hasOwnProperty(e)},__checkAdCapabilityByCapabilityAndAdElementId:function(e,t){return!!e&&!!t&&this.__adCapabilities.byCapability.hasOwnProperty(e)&&this.__adCapabilities.byCapability[e].hasOwnProperty("byAdElementId")&&this.__adCapabilities.byCapability[e].byAdElementId.hasOwnProperty(t)},__toggleInStickyContentAdZoneInlineTop:function(e){for(var t=document.getElementsByClassName("in-sticky-content"),i=0;i<t.length;i++)e?t[i].classList.add("adsninja-in-sticky-content-ad-zone-inline-top"):t[i].classList.remove("adsninja-in-sticky-content-ad-zone-inline-top")},__handleFloatingTopMiddle:function(e,t){if("mobile"===this.getDeviceType()&&this.__adsData&&Object.keys(this.__adsData).length>0&&this.__adsData.hasOwnProperty(e)){var i=this.__adsData[e].zoneName;this.__checkAdCapabilityByAdZoneName(this.AD_CAPABILITY_FLOATING_TOP_MIDDLE,i)&&this.__toggleInStickyContentAdZoneInlineTop(t)}},getAllAdsData:function(){return this.__adsData},getAdsData:function(e){var t=this.__adsData[e]||null;return t||(this.logger.warn(`Cannot find adsData with adElementId: "${e}"!`),null)},__formatSizeArrayForAmazonAdRequest:function(e){var t=[];if(Array.isArray(e))for(var i in e){var n=[],a=e[i];n.push(a[0]),n.push(a[1]),t.push(n)}return t},handleFloatingEngagedValstream:function(e,t,i){this.__floatingEventDictionary.hasOwnProperty(e)||this.logger.debug("Unable to handle floating event: engaged.",{adElementId:e,height:t,width:i}),this.__floatingEventDictionary[e].engaged(t,i)},handleFloatingDisengagedValstream:function(e,t,i){this.__floatingEventDictionary.hasOwnProperty(e)||this.logger.debug("Unable to handle floating event: disengaged.",{adElementId:e,height:t,width:i}),this.__floatingEventDictionary[e].disengaged(t,i)},handleFloatingDisallowedValstream:function(e){this.__floatingEventDictionary.hasOwnProperty(e)||this.logger.debug("Unable to handle floating event: disallowed.",{adElementId:e}),this.__floatingEventDictionary[e].disallowed()},registerEventHandlersForFloating:function(e,t){return this.__adsData.hasOwnProperty(e)?t&&t.engaged&&"function"==typeof t.engaged&&t.disengaged&&"function"==typeof t.disengaged&&t.disallowed&&"function"==typeof t.disallowed?this.__floatingEventDictionary.hasOwnProperty(e)?(this.logger.warn(`Unable to register floating events with ad element ID: ${e}. Already registered events for this element.`),!1):this.__adsData.hasOwnProperty(e)?(this.setupFloatingAdZones([this.__adsData[e]]),this.__floatingEventDictionary[e]=t,!0):(this.logger.error(`There is no ad data registered for ad element ID: ${e}.`),!1):(this.logger.debug(`Unable to register floating events with ad element ID: ${e}. One or more callbacks are missing.`),!1):(this.__logger.warn(`There is no ad data registered with the ID: ${e}.`),!1)},registerConfigureNewVideoPlayersHandler:function(e){this.__configureNewVideoPlayers=e},requestNextAuctionVideoInstream:function(e,t){if(!this.__adsData.hasOwnProperty(e)){this.logger.warn(`There is no ad data registered with the ID: ${e}.`),t("");return}if(this.__consentNeeded&&!this.consentKnown){this.logger.debug("Unable to setup video auction for ad. User has not yet given consent.",{adElementId:e}),t("");return}var i=this.__adsData[e];if(this.__auctionsVideoInstreamDictionary.hasOwnProperty(e)&&this.__isUserConsideredInactiveForAd(i)){this.logger.debug("Unable to setup video auction for ad. User is considered inactive.",{ad:i}),t("");return}var n=this.setupAuctionVideo(i,this.prebidAdUnitBidderConfigs,t);n?(this.requestHeaderBids(n.getId()),this.startFailSafeTimeout(n.getId())):this.logger.debug("No video auction to be held!")},requestNextPrerollAd:function(e){return this.__buildIUrlVideoInstream(e)},markBidAsUsed(e,t,i=null){if(!e)return this.logger.debug("Unable to mark bids as used one or more params are invalid.",{adElementId:e,creativeIds:t}),!1;if(!this.__adsData.hasOwnProperty(e))return this.__logger.warn(`There is no ad data registered with the ID: ${e}.`),!1;var n=this.__getLatestAuctionId(e);if(!this.doesAuctionExist(n))throw Error(`There is no auction registered with the ID: ${n}.`);if(!t||!Array.isArray(t)||0===t.length)return this.logger.debug("Creative IDs passed are empty unable to confidently mark bids as used. Invalidating highest bids in the bid pools of each bidding library.",{adElementId:e,creativeIds:t}),this.auctions[n].markAllHighestBidsAsUsed(e),!0;var a=!1,s=!1;for(var r in t){if(-1!==this.PREBID_CREATIVE_IDS.indexOf(t[r])){s=!0;break}if(-1!==this.AMAZON_CREATIVE_IDS.indexOf(t[r])){a=!0;break}}var o=!1,d=!1;return a?(o=this.auctions[n].markHighestBidAsUsed(this.BIDDING_LIBRARY_AMAZON,"preroll"),this.auctions[n].allowBidsToBeReused(this.BIDDING_LIBRARY_PREBID,e)):s?(d=this.auctions[n].markHighestBidAsUsed(this.BIDDING_LIBRARY_PREBID,e),this.auctions[n].allowBidsToBeReused(this.BIDDING_LIBRARY_AMAZON,"preroll")):(this.auctions[n].allowBidsToBeReused(this.BIDDING_LIBRARY_PREBID,e),this.auctions[n].allowBidsToBeReused(this.BIDDING_LIBRARY_AMAZON,"preroll")),this.logger.debug("Attempted to mark highest bid as used.",{creativeIds:t,isAmazonAd:a,markHighestBidAsUsedAmazon:o,isPrebidAd:s,markHighestBidAsUsedPrebid:d}),"function"==typeof i&&i(a||s),!0},retryPrerollAd:function(e){return this.logger.debug("Retrying Pre-roll ad for video player.",{adElementId:e}),this.markBidAsUsed(e,this.PREBID_CREATIVE_IDS),this.__buildIUrlVideoInstream(e)},__buildIUrlVideoInstream:function(e){if(!this.__adsData.hasOwnProperty(e))return this.__logger.warn(`There is no ad data registered with the ID: ${e}.`),"";var t=this.__getLatestAuctionId(e);if(!this.doesAuctionExist(t))throw Error(`There is no auction registered with the ID: ${t}.`);var i=window.adsNinjaHeaderBiddingManager.auctions[t].getHighestUnusedBid(this.BIDDING_LIBRARY_PREBID,e),n=window.adsNinjaHeaderBiddingManager.auctions[t].getHighestUnusedBid(this.BIDDING_LIBRARY_AMAZON,"preroll"),a=null,s=window.adsNinjaHeaderBiddingManager.auctions[t].getAd(e).getAdUnitPath(),r={adUnit:window.adsNinjaHeaderBiddingManager.auctions[t].getPrebidAdUnit(e),params:{iu:s}};i&&(r.bid=i),a=window.pbjs.adServers.dfp.buildVideoUrl(r),n&&(a+=n.encodedQsParams||n.helpers.encodedQsParams());var o="",d=`&Site=${this.getBrandName()}&ContentType=${this.getContentType()}&Template=${this.getTemplate()}&NetworkCategory=${this.getNetworkCategory()}&SiteCategory=${this.getSiteCategory()}&PostID=${this.getPostId()}`;this.__eventTrackingDictionary.hasOwnProperty(e)&&this.__eventTrackingDictionary[e]&&(d+="&mode=instream");try{var l=window.googletag.pubads().getTargetingKeys()||[];for(var h of l)o=`${o}&${h}=${window.googletag.pubads().getTargeting(h)}`}catch(g){this.logger.error("Error setting site wide kv pairs.",{error:g})}var u=(a+=window.encodeURIComponent(d+o)).split("cust_params=");if(u.length>0){var c=u[0],f=u[1],p=window.decodeURIComponent(f);a=c+"cust_params="+window.encodeURIComponent(p)}return a},__getLatestAuctionId:function(e){if(!this.__auctionsVideoInstreamDictionary.hasOwnProperty(e))throw Error(`Unable to find latest auction for adElementId: ${e}`);var t=this.__auctionsVideoInstreamDictionary[e].length;return this.__auctionsVideoInstreamDictionary[e][t-1]},__registerAuctionVideoInstreamIfAvailable:function(e){if(!this.doesAuctionExist(e))throw Error(`There is no auction registered with the ID: ${e}.`);var t=this.auctions[e].getDivIdsOnlyVideoInstream();if(0!==t.length){if(!window.pbjs.hasOwnProperty("adServers")||!window.pbjs.adServers.hasOwnProperty("dfp")||"function"!=typeof window.pbjs.adServers.dfp.buildVideoUrl){this.logger.error("Unable to register video auction. Prebid module dfpAdServerVideo is missing!");return}for(var i in t){var n=t[i];if(this.__auctionsVideoInstreamDictionary.hasOwnProperty(n)){var a=this.__auctionsVideoInstreamDictionary[n].length,s=this.__auctionsVideoInstreamDictionary[n][a-1],r=this.auctions[s].getUnusedBids(this.BIDDING_LIBRARY_PREBID);r&&Object.keys(r).length>0&&this.auctions[e].setBidsPrebid(r)}else this.__auctionsVideoInstreamDictionary[n]=[];this.__auctionsVideoInstreamDictionary[n].push(e);var o=this.auctions[e].getCompletionCallback(n);o&&"function"==typeof o&&o(this.__buildIUrlVideoInstream(n))}}},getVideoPlayerConfigurations:function(){var e=[],t=this.__filterAdsDataByPageLoadAndManagedVideo(this.__adsData);for(var i in t){var n=t[i].getVideoList()||this.__videoList,a=t[i].getVideoSettings(),s={elementId:t[i].adElementId,modeLayout:a.layout.id,allowAutoplay:a.allowAutoplay,showTitle:a.showTitle||!1,allowAds:!0};Array.isArray(n)&&n.length>0&&"object"==typeof n[0]&&0!==Object.keys(n[0]).length?s.playlist=n:s.playlistVideoUrls=n,e.push(s)}return e},__isUserConsideredInactiveForAd:function(e){if(!e.hasAdDataUserActivityOptions())return!1;var t=e.getUserActivityOptions(),i=t.type.id,n=1e3*t.thresholdInSeconds,a=!1;switch(i){case this.ID_USER_ACTIVITY_TYPE_LONGEST_STRETCH_OF_INACTIVITY:a=this.__userActivityMonitor.hasUserBeenInactiveForThreshold(n);break;case this.ID_USER_ACTIVITY_TYPE_LAST_RECORDED_ACTIVITY:a=!this.__userActivityMonitor.hasUserActivityBeenDetectedRecently(n);break;case this.ID_USER_ACTIVITY_TYPE_TOTAL_TIME_INACTIVE:a=this.__userActivityMonitor.hasTotalUserInactivityExceededThreshold(n);break;case this.ID_USER_ACTIVITY_TYPE_TOTAL_TIME_TRACKING:a=this.__userActivityMonitor.hasTotalTrackingTimeExceededThreshold(n);break;default:this.logger.warn("Unknown user activity type.",{type:t.type})}return a},registerEventHandlerBidWonPrebid:function(){var e=this;window.pbjs.onEvent("bidWon",function(t){if(e.logger.log("Prebid bidWon event.",{data:t}),-1!==window.location.hostname.indexOf("movieweb.com")&&"kargo"===t.bidderCode){console.log("Kargo winning bid detected. Moving Primis video player up");var i=document.querySelector("div#primis_container_div > div:nth-child(2)");i&&(i.style.bottom="200px")}var n=e.getAdsData(t.adUnitCode).getOriginalAdElementId();if(n&&e.sspsThatCouldHaveOwnCloseButton.hasOwnProperty(t.bidderCode)&&e.checkAdCapabilityByAdElementId(e.AD_CAPABILITY_CAN_REMOVE_FLOATING_CLOSE_BUTTON,n)){var a=`ad-zone-container-${t.adUnitCode}`,s=document.getElementById(a);s&&s.classList.add("adsninja-disallow-close-button")}})},getEventTrackingId:function(e){return window.adsNinjaHeaderBiddingManager.__eventTrackingDictionary[e]||null}}},function(e,t){if(window.adsNinja=window.adsNinja||{},window.adsNinja.queue=window.adsNinja.queue||[],window.adsNinja.logger=new AdsNinjaLogger,window.adsNinja.eventHelper=new AdsNinjaEventHelper,window.adsNinja.data=null,window.adsNinja.valstream=null,window.adsNinja.__firstQueueProcessing=!0,window.adsNinja.eventRecorder=null,window.adsNinja.processQueue=function(){for(;window.adsNinja.queue.length>0;){var e=window.adsNinja.queue.shift();try{e()}catch(t){this.logger.error("Error encountered while processing AdsNinja queue.",{message:t.message,closure:e})}}this.__firstQueueProcessing&&(window.adsNinja.queue.push=function(){Array.prototype.push.apply(this,arguments),window.adsNinja.processQueue()},window.adsNinja.queue.unshift=function(){Array.prototype.unshift.apply(this,arguments),window.adsNinja.processQueue()},this.__firstQueueProcessing=!1)},window.adsNinja.init=function(){this.__registerEventListeners(),window.AdsNinjaEventRecorder&&void 0!==window.AdsNinjaEventRecorder&&(window.adsNinja.eventRecorder=new AdsNinjaEventRecorder),window.Valstream&&void 0!==window.Valstream?window.adsNinja.valstream=new window.Valstream({biddingManager:window.adsNinjaHeaderBiddingManager||null,googleAnalytics:window.ga||null,videoJsLibrary:window.videojs||null,googleLibrary:window.google||null}):this.logger.error("Valstream is not defined."),this.processQueue()},window.adsNinja.__registerEventListeners=function(){document.addEventListener("AdsNinjaVideoPlayerEvent",function(e){window.adsNinja.recordEvent(e.detail.elementId,e.detail.type,e.detail.message,e.detail.data)})},window.adsNinja.recordEvent=function(e,t,i=null,n=null){if(!window.adsNinja.eventRecorder||void 0===window.adsNinja.eventRecorder){this.logger.debug("Unable to record event: missing eventRecorder.",{elementId:e,type:t,message:i,data:n});return}var a=window.adsNinjaHeaderBiddingManager.getEventTrackingId(e)||null;if(!a){this.logger.debug("Unable to record event: missing tracking identifier.",{elementId:e,type:t,message:i,data:n});return}var s=window.adsNinjaHeaderBiddingManager.getEventRecordingLogData()||null;if(!s||"object"!=typeof s){this.logger.error("Unable to record event: missing clientData.",{elementId:e,type:t,message:i,data:n,clientData:s});return}this.eventRecorder.send(a,t,s,i,n)},window.adsNinja.configureBiddingManagerVideoPlayers=function(){void 0!==window.adsNinja.valstream&&"function"==typeof window.adsNinja.valstream.configureBiddingManagerVideoPlayers&&window.adsNinja.valstream.configureBiddingManagerVideoPlayers()},window.adsNinja.dynamicallyInjectAllAdZones=function(){void 0!==window.googletag&&window.googletag.hasOwnProperty("cmd")&&void 0!==window.adsNinjaHeaderBiddingManager&&window.googletag.cmd.push(function(){window.adsNinjaDefineSlots(!1);var e=window.adsNinjaHeaderBiddingManager.dynamicallyInjectAdZones(window.adsNinja.data.dynamicallyInjectedAdZones);if(e&&0!==e.length){var t=window.adsNinjaHeaderBiddingManager.setup(window.adsNinjaHeaderBiddingManager.getAllAdsData(),window.adsNinjaHeaderBiddingManager.prebidAdUnitBidderConfigs,!1);window.adsNinjaHeaderBiddingManager.setupDynamicallyInjectionRefreshAdZones(t.getGamAdSlots(),window.adsNinja.data.dynamicInjectionRefreshAdZones),window.adsNinjaHeaderBiddingManager.requestHeaderBids(t.getId()),window.adsNinjaHeaderBiddingManager.startFailSafeTimeout(t.getId()),window.adsNinjaHeaderBiddingManager.setupFloatingAdZones(t.getGamAdSlots())}})},window.adsNinja.__runBiddingManager=function(e){if(void 0===window.googletag||!window.googletag.hasOwnProperty("cmd")||void 0===window.adsNinjaHeaderBiddingManager){this.logger.error("One or more of the following is not defined on page: googletag, googletag.cmd, and/or adsNinjaHeaderBiddingManager.");return}window.adsNinjaHeaderBiddingManager.run(e,function(){e.usingVideoPlayer&&void 0!==window.adsNinja.valstream&&window.adsNinja.valstream.configureBiddingManagerVideoPlayers()})},window.adsNinja.run=function(e){this.data=e;var t=!1,i=this.data.allowedDomains;for(var n in i)if(-1!==window.location.hostname.indexOf(i[n])){t=!0;break}t?window.adsNinja.__runBiddingManager(this.data):this.logger.error("Domain invalid, unable to load ads.")},"complete"!==document.readyState){var i=!1;window.adsNinja.eventHelper.arePassiveEventListenersSupported()&&(i={passive:!0}),document.addEventListener("readystatechange",function(e){window.adsNinja.logger.log(`Readystate: ${e.target.readyState}.`),"complete"===e.target.readyState&&window.adsNinja.init()},i)}else window.adsNinja.init();window.adsNinjaDynamicallyInjectAllAdZones=window.adsNinja.dynamicallyInjectAllAdZones}]);